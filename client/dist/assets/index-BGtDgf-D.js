var Fp=Object.defineProperty;var Bp=(t,e,n)=>e in t?Fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ue=(t,e,n)=>Bp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bf={exports:{}},Js={},Mf={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),Hp=Symbol.for("react.portal"),Wp=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Xp=Symbol.for("react.memo"),Jp=Symbol.for("react.lazy"),Qu=Symbol.iterator;function Zp(t){return t===null||typeof t!="object"?null:(t=Qu&&t[Qu]||t["@@iterator"],typeof t=="function"?t:null)}var Af={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$f=Object.assign,zf={};function Or(t,e,n){this.props=t,this.context=e,this.refs=zf,this.updater=n||Af}Or.prototype.isReactComponent={};Or.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Or.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ff(){}Ff.prototype=Or.prototype;function ba(t,e,n){this.props=t,this.context=e,this.refs=zf,this.updater=n||Af}var Ma=ba.prototype=new Ff;Ma.constructor=ba;$f(Ma,Or.prototype);Ma.isPureReactComponent=!0;var Gu=Array.isArray,Bf=Object.prototype.hasOwnProperty,Aa={current:null},Uf={key:!0,ref:!0,__self:!0,__source:!0};function Hf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Bf.call(e,r)&&!Uf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pi,type:t,key:s,ref:o,props:i,_owner:Aa.current}}function eg(t,e){return{$$typeof:Pi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $a(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pi}function tg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yu=/\/+/g;function Fo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tg(""+t.key):e.toString(36)}function ls(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pi:case Hp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fo(o,0):r,Gu(i)?(n="",t!=null&&(n=t.replace(Yu,"$&/")+"/"),ls(i,e,n,"",function(u){return u})):i!=null&&($a(i)&&(i=eg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Yu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gu(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Fo(s,l);o+=ls(s,e,n,a,i)}else if(a=Zp(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Fo(s,l++),o+=ls(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $i(t,e,n){if(t==null)return t;var r=[],i=0;return ls(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ng(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var We={current:null},as={transition:null},rg={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:as,ReactCurrentOwner:Aa};function Wf(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:$i,forEach:function(t,e,n){$i(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $i(t,function(){e++}),e},toArray:function(t){return $i(t,function(e){return e})||[]},only:function(t){if(!$a(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Or;K.Fragment=Wp;K.Profiler=Vp;K.PureComponent=ba;K.StrictMode=qp;K.Suspense=Yp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;K.act=Wf;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$f({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Aa.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Bf.call(e,a)&&!Uf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pi,type:t.type,key:i,ref:s,props:r,_owner:o}};K.createContext=function(t){return t={$$typeof:Qp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kp,_context:t},t.Consumer=t};K.createElement=Hf;K.createFactory=function(t){var e=Hf.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:Gp,render:t}};K.isValidElement=$a;K.lazy=function(t){return{$$typeof:Jp,_payload:{_status:-1,_result:t},_init:ng}};K.memo=function(t,e){return{$$typeof:Xp,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=as.transition;as.transition={};try{t()}finally{as.transition=e}};K.unstable_act=Wf;K.useCallback=function(t,e){return We.current.useCallback(t,e)};K.useContext=function(t){return We.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return We.current.useDeferredValue(t)};K.useEffect=function(t,e){return We.current.useEffect(t,e)};K.useId=function(){return We.current.useId()};K.useImperativeHandle=function(t,e,n){return We.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return We.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return We.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return We.current.useMemo(t,e)};K.useReducer=function(t,e,n){return We.current.useReducer(t,e,n)};K.useRef=function(t){return We.current.useRef(t)};K.useState=function(t){return We.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return We.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return We.current.useTransition()};K.version="18.3.1";Mf.exports=K;var O=Mf.exports;const ig=Up(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=O,og=Symbol.for("react.element"),lg=Symbol.for("react.fragment"),ag=Object.prototype.hasOwnProperty,ug=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cg={key:!0,ref:!0,__self:!0,__source:!0};function qf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ag.call(e,r)&&!cg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:og,type:t,key:s,ref:o,props:i,_owner:ug.current}}Js.Fragment=lg;Js.jsx=qf;Js.jsxs=qf;bf.exports=Js;var d=bf.exports,Tl={},Vf={exports:{}},st={},Kf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,B){var U=j.length;j.push(B);e:for(;0<U;){var ne=U-1>>>1,ae=j[ne];if(0<i(ae,B))j[ne]=B,j[U]=ae,U=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],U=j.pop();if(U!==B){j[0]=U;e:for(var ne=0,ae=j.length,lt=ae>>>1;ne<lt;){var ze=2*(ne+1)-1,Tt=j[ze],Fe=ze+1,W=j[Fe];if(0>i(Tt,U))Fe<ae&&0>i(W,Tt)?(j[ne]=W,j[Fe]=U,ne=Fe):(j[ne]=Tt,j[ze]=U,ne=ze);else if(Fe<ae&&0>i(W,U))j[ne]=W,j[Fe]=U,ne=Fe;else break e}}return B}function i(j,B){var U=j.sortIndex-B.sortIndex;return U!==0?U:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,p=null,c=3,y=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(j){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=j)r(u),B.sortIndex=B.expirationTime,e(a,B);else break;B=n(u)}}function E(j){if(w=!1,m(j),!v)if(n(a)!==null)v=!0,ge(R);else{var B=n(u);B!==null&&Ee(E,B.startTime-j)}}function R(j,B){v=!1,w&&(w=!1,g(L),L=-1),y=!0;var U=c;try{for(m(B),p=n(a);p!==null&&(!(p.expirationTime>B)||j&&!J());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,c=p.priorityLevel;var ae=ne(p.expirationTime<=B);B=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(a)&&r(a),m(B)}else r(a);p=n(a)}if(p!==null)var lt=!0;else{var ze=n(u);ze!==null&&Ee(E,ze.startTime-B),lt=!1}return lt}finally{p=null,c=U,y=!1}}var x=!1,P=null,L=-1,H=5,A=-1;function J(){return!(t.unstable_now()-A<H)}function re(){if(P!==null){var j=t.unstable_now();A=j;var B=!0;try{B=P(!0,j)}finally{B?I():(x=!1,P=null)}}else x=!1}var I;if(typeof h=="function")I=function(){h(re)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=re,I=function(){le.postMessage(null)}}else I=function(){T(re,0)};function ge(j){P=j,x||(x=!0,I())}function Ee(j,B){L=T(function(){j(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ge(R))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(j){switch(c){case 1:case 2:case 3:var B=3;break;default:B=c}var U=c;c=B;try{return j()}finally{c=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=c;c=j;try{return B()}finally{c=U}},t.unstable_scheduleCallback=function(j,B,U){var ne=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=U+ae,j={id:f++,callback:B,priorityLevel:j,startTime:U,expirationTime:ae,sortIndex:-1},U>ne?(j.sortIndex=U,e(u,j),n(a)===null&&j===n(u)&&(w?(g(L),L=-1):w=!0,Ee(E,U-ne))):(j.sortIndex=ae,e(a,j),v||y||(v=!0,ge(R))),j},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(j){var B=c;return function(){var U=c;c=B;try{return j.apply(this,arguments)}finally{c=U}}}})(Qf);Kf.exports=Qf;var fg=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=O,it=fg;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gf=new Set,fi={};function Un(t,e){wr(t,e),wr(t+"Capture",e)}function wr(t,e){for(fi[t]=e,t=0;t<e.length;t++)Gf.add(e[t])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xu={},Ju={};function pg(t){return Dl.call(Ju,t)?!0:Dl.call(Xu,t)?!1:hg.test(t)?Ju[t]=!0:(Xu[t]=!0,!1)}function gg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mg(t,e,n,r){if(e===null||typeof e>"u"||gg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var za=/[\-:]([a-z])/g;function Fa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(za,Fa);Le[e]=new qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(za,Fa);Le[e]=new qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(za,Fa);Le[e]=new qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ba(t,e,n,r){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mg(e,n,i,r)&&(n=null),r||i===null?pg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vt=dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),Ua=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),Ha=Symbol.for("react.forward_ref"),Pl=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Wa=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),Zu=Symbol.iterator;function Ar(t){return t===null||typeof t!="object"?null:(t=Zu&&t[Zu]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Bo;function Qr(t){if(Bo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bo=e&&e[1]||""}return`
`+Bo+t}var Uo=!1;function Ho(t,e){if(!t||Uo)return"";Uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Uo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function vg(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=Ho(t.type,!1),t;case 11:return t=Ho(t.type.render,!1),t;case 1:return t=Ho(t.type,!0),t;default:return""}}function Rl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nr:return"Fragment";case tr:return"Portal";case Nl:return"Profiler";case Ua:return"StrictMode";case Pl:return"Suspense";case Ll:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xf:return(t.displayName||"Context")+".Consumer";case Yf:return(t._context.displayName||"Context")+".Provider";case Ha:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wa:return e=t.displayName||null,e!==null?e:Rl(t.type)||"Memo";case Zt:e=t._payload,t=t._init;try{return Rl(t(e))}catch{}}return null}function yg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rl(e);case 8:return e===Ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wg(t){var e=Zf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fi(t){t._valueTracker||(t._valueTracker=wg(t))}function ed(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Il(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ec(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function td(t,e){e=e.checked,e!=null&&Ba(t,"checked",e,!1)}function jl(t,e){td(t,e);var n=yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||Ts(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gr=Array.isArray;function hr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ml(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Gr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yn(n)}}function nd(t,e){var n=yn(e.value),r=yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bi,id=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sg=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){Sg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});function sd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ei.hasOwnProperty(t)&&ei[t]?(""+e).trim():e+"px"}function od(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _g=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(t,e){if(e){if(_g[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function zl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function qa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bl=null,pr=null,gr=null;function ic(t){if(t=Ii(t)){if(typeof Bl!="function")throw Error(N(280));var e=t.stateNode;e&&(e=ro(e),Bl(t.stateNode,t.type,e))}}function ld(t){pr?gr?gr.push(t):gr=[t]:pr=t}function ad(){if(pr){var t=pr,e=gr;if(gr=pr=null,ic(t),e)for(t=0;t<e.length;t++)ic(e[t])}}function ud(t,e){return t(e)}function cd(){}var Wo=!1;function fd(t,e,n){if(Wo)return t(e,n);Wo=!0;try{return ud(t,e,n)}finally{Wo=!1,(pr!==null||gr!==null)&&(cd(),ad())}}function hi(t,e){var n=t.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ul=!1;if(Ut)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Ul=!1}function Cg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ti=!1,Ds=null,Ns=!1,Hl=null,kg={onError:function(t){ti=!0,Ds=t}};function Eg(t,e,n,r,i,s,o,l,a){ti=!1,Ds=null,Cg.apply(kg,arguments)}function xg(t,e,n,r,i,s,o,l,a){if(Eg.apply(this,arguments),ti){if(ti){var u=Ds;ti=!1,Ds=null}else throw Error(N(198));Ns||(Ns=!0,Hl=u)}}function Hn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sc(t){if(Hn(t)!==t)throw Error(N(188))}function Og(t){var e=t.alternate;if(!e){if(e=Hn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sc(i),t;if(s===r)return sc(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function hd(t){return t=Og(t),t!==null?pd(t):null}function pd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pd(t);if(e!==null)return e;t=t.sibling}return null}var gd=it.unstable_scheduleCallback,oc=it.unstable_cancelCallback,Tg=it.unstable_shouldYield,Dg=it.unstable_requestPaint,me=it.unstable_now,Ng=it.unstable_getCurrentPriorityLevel,Va=it.unstable_ImmediatePriority,md=it.unstable_UserBlockingPriority,Ps=it.unstable_NormalPriority,Pg=it.unstable_LowPriority,vd=it.unstable_IdlePriority,Zs=null,Rt=null;function Lg(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Zs,t,void 0,(t.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:jg,Rg=Math.log,Ig=Math.LN2;function jg(t){return t>>>=0,t===0?32:31-(Rg(t)/Ig|0)|0}var Ui=64,Hi=4194304;function Yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ls(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Yr(l):(s&=o,s!==0&&(r=Yr(s)))}else o=n&~i,o!==0?r=Yr(o):s!==0&&(r=Yr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Et(e),i=1<<n,r|=t[n],e&=~i;return r}function bg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Et(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=bg(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Wl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yd(){var t=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),t}function qo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Li(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Et(e),t[e]=n}function Ag(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Et(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ka(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Et(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var te=0;function wd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sd,Qa,_d,Cd,kd,ql=!1,Wi=[],an=null,un=null,cn=null,pi=new Map,gi=new Map,rn=[],$g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(e.pointerId)}}function zr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ii(e),e!==null&&Qa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zg(t,e,n,r,i){switch(e){case"focusin":return an=zr(an,t,e,n,r,i),!0;case"dragenter":return un=zr(un,t,e,n,r,i),!0;case"mouseover":return cn=zr(cn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pi.set(s,zr(pi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gi.set(s,zr(gi.get(s)||null,t,e,n,r,i)),!0}return!1}function Ed(t){var e=Nn(t.target);if(e!==null){var n=Hn(e);if(n!==null){if(e=n.tag,e===13){if(e=dd(n),e!==null){t.blockedOn=e,kd(t.priority,function(){_d(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return e=Ii(n),e!==null&&Qa(e),t.blockedOn=n,!1;e.shift()}return!0}function ac(t,e,n){us(t)&&n.delete(e)}function Fg(){ql=!1,an!==null&&us(an)&&(an=null),un!==null&&us(un)&&(un=null),cn!==null&&us(cn)&&(cn=null),pi.forEach(ac),gi.forEach(ac)}function Fr(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Fg)))}function mi(t){function e(i){return Fr(i,t)}if(0<Wi.length){Fr(Wi[0],t);for(var n=1;n<Wi.length;n++){var r=Wi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(an!==null&&Fr(an,t),un!==null&&Fr(un,t),cn!==null&&Fr(cn,t),pi.forEach(e),gi.forEach(e),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Ed(n),n.blockedOn===null&&rn.shift()}var mr=Vt.ReactCurrentBatchConfig,Rs=!0;function Bg(t,e,n,r){var i=te,s=mr.transition;mr.transition=null;try{te=1,Ga(t,e,n,r)}finally{te=i,mr.transition=s}}function Ug(t,e,n,r){var i=te,s=mr.transition;mr.transition=null;try{te=4,Ga(t,e,n,r)}finally{te=i,mr.transition=s}}function Ga(t,e,n,r){if(Rs){var i=Vl(t,e,n,r);if(i===null)tl(t,e,r,Is,n),lc(t,r);else if(zg(i,t,e,n,r))r.stopPropagation();else if(lc(t,r),e&4&&-1<$g.indexOf(t)){for(;i!==null;){var s=Ii(i);if(s!==null&&Sd(s),s=Vl(t,e,n,r),s===null&&tl(t,e,r,Is,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tl(t,e,r,null,n)}}var Is=null;function Vl(t,e,n,r){if(Is=null,t=qa(r),t=Nn(t),t!==null)if(e=Hn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Is=t,null}function xd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ng()){case Va:return 1;case md:return 4;case Ps:case Pg:return 16;case vd:return 536870912;default:return 16}default:return 16}}var on=null,Ya=null,cs=null;function Od(){if(cs)return cs;var t,e=Ya,n=e.length,r,i="value"in on?on.value:on.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return cs=i.slice(t,1<r?1-r:void 0)}function fs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function uc(){return!1}function ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qi:uc,this.isPropagationStopped=uc,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),e}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=ot(Tr),Ri=he({},Tr,{view:0,detail:0}),Hg=ot(Ri),Vo,Ko,Br,eo=he({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Vo=t.screenX-Br.screenX,Ko=t.screenY-Br.screenY):Ko=Vo=0,Br=t),Vo)},movementY:function(t){return"movementY"in t?t.movementY:Ko}}),cc=ot(eo),Wg=he({},eo,{dataTransfer:0}),qg=ot(Wg),Vg=he({},Ri,{relatedTarget:0}),Qo=ot(Vg),Kg=he({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=ot(Kg),Gg=he({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yg=ot(Gg),Xg=he({},Tr,{data:0}),fc=ot(Xg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e0[t])?!!e[t]:!1}function Ja(){return t0}var n0=he({},Ri,{key:function(t){if(t.key){var e=Jg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(t){return t.type==="keypress"?fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r0=ot(n0),i0=he({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=ot(i0),s0=he({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),o0=ot(s0),l0=he({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=ot(l0),u0=he({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=ot(u0),f0=[9,13,27,32],Za=Ut&&"CompositionEvent"in window,ni=null;Ut&&"documentMode"in document&&(ni=document.documentMode);var d0=Ut&&"TextEvent"in window&&!ni,Td=Ut&&(!Za||ni&&8<ni&&11>=ni),hc=" ",pc=!1;function Dd(t,e){switch(t){case"keyup":return f0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rr=!1;function h0(t,e){switch(t){case"compositionend":return Nd(e);case"keypress":return e.which!==32?null:(pc=!0,hc);case"textInput":return t=e.data,t===hc&&pc?null:t;default:return null}}function p0(t,e){if(rr)return t==="compositionend"||!Za&&Dd(t,e)?(t=Od(),cs=Ya=on=null,rr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Td&&e.locale!=="ko"?null:e.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g0[t.type]:e==="textarea"}function Pd(t,e,n,r){ld(r),e=js(e,"onChange"),0<e.length&&(n=new Xa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ri=null,vi=null;function m0(t){Bd(t,0)}function to(t){var e=or(t);if(ed(e))return t}function v0(t,e){if(t==="change")return e}var Ld=!1;if(Ut){var Go;if(Ut){var Yo="oninput"in document;if(!Yo){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),Yo=typeof mc.oninput=="function"}Go=Yo}else Go=!1;Ld=Go&&(!document.documentMode||9<document.documentMode)}function vc(){ri&&(ri.detachEvent("onpropertychange",Rd),vi=ri=null)}function Rd(t){if(t.propertyName==="value"&&to(vi)){var e=[];Pd(e,vi,t,qa(t)),fd(m0,e)}}function y0(t,e,n){t==="focusin"?(vc(),ri=e,vi=n,ri.attachEvent("onpropertychange",Rd)):t==="focusout"&&vc()}function w0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return to(vi)}function S0(t,e){if(t==="click")return to(e)}function _0(t,e){if(t==="input"||t==="change")return to(e)}function C0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:C0;function yi(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dl.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function yc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wc(t,e){var n=yc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yc(n)}}function Id(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Id(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(){for(var t=window,e=Ts();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ts(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k0(t){var e=jd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Id(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wc(n,s);var o=wc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E0=Ut&&"documentMode"in document&&11>=document.documentMode,ir=null,Kl=null,ii=null,Ql=!1;function Sc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||ir==null||ir!==Ts(r)||(r=ir,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ii&&yi(ii,r)||(ii=r,r=js(Kl,"onSelect"),0<r.length&&(e=new Xa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ir)))}function Vi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sr={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},Xo={},bd={};Ut&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function no(t){if(Xo[t])return Xo[t];if(!sr[t])return t;var e=sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bd)return Xo[t]=e[n];return t}var Md=no("animationend"),Ad=no("animationiteration"),$d=no("animationstart"),zd=no("transitionend"),Fd=new Map,_c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(t,e){Fd.set(t,e),Un(e,[t])}for(var Jo=0;Jo<_c.length;Jo++){var Zo=_c[Jo],x0=Zo.toLowerCase(),O0=Zo[0].toUpperCase()+Zo.slice(1);Sn(x0,"on"+O0)}Sn(Md,"onAnimationEnd");Sn(Ad,"onAnimationIteration");Sn($d,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(zd,"onTransitionEnd");wr("onMouseEnter",["mouseout","mouseover"]);wr("onMouseLeave",["mouseout","mouseover"]);wr("onPointerEnter",["pointerout","pointerover"]);wr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function Cc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xg(r,e,void 0,t),t.currentTarget=null}function Bd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Cc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Cc(i,l,u),s=a}}}if(Ns)throw t=Hl,Ns=!1,Hl=null,t}function se(t,e){var n=e[Zl];n===void 0&&(n=e[Zl]=new Set);var r=t+"__bubble";n.has(r)||(Ud(e,t,2,!1),n.add(r))}function el(t,e,n){var r=0;e&&(r|=4),Ud(n,t,r,e)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function wi(t){if(!t[Ki]){t[Ki]=!0,Gf.forEach(function(n){n!=="selectionchange"&&(T0.has(n)||el(n,!1,t),el(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ki]||(e[Ki]=!0,el("selectionchange",!1,e))}}function Ud(t,e,n,r){switch(xd(e)){case 1:var i=Bg;break;case 4:i=Ug;break;default:i=Ga}n=i.bind(null,e,n,t),i=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Nn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fd(function(){var u=s,f=qa(n),p=[];e:{var c=Fd.get(t);if(c!==void 0){var y=Xa,v=t;switch(t){case"keypress":if(fs(n)===0)break e;case"keydown":case"keyup":y=r0;break;case"focusin":v="focus",y=Qo;break;case"focusout":v="blur",y=Qo;break;case"beforeblur":case"afterblur":y=Qo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=o0;break;case Md:case Ad:case $d:y=Qg;break;case zd:y=a0;break;case"scroll":y=Hg;break;case"wheel":y=c0;break;case"copy":case"cut":case"paste":y=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=dc}var w=(e&4)!==0,T=!w&&t==="scroll",g=w?c!==null?c+"Capture":null:c;w=[];for(var h=u,m;h!==null;){m=h;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,g!==null&&(E=hi(h,g),E!=null&&w.push(Si(h,E,m)))),T)break;h=h.return}0<w.length&&(c=new y(c,v,null,n,f),p.push({event:c,listeners:w}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",c&&n!==Fl&&(v=n.relatedTarget||n.fromElement)&&(Nn(v)||v[Ht]))break e;if((y||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Nn(v):null,v!==null&&(T=Hn(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=cc,E="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=dc,E="onPointerLeave",g="onPointerEnter",h="pointer"),T=y==null?c:or(y),m=v==null?c:or(v),c=new w(E,h+"leave",y,n,f),c.target=T,c.relatedTarget=m,E=null,Nn(f)===u&&(w=new w(g,h+"enter",v,n,f),w.target=m,w.relatedTarget=T,E=w),T=E,y&&v)t:{for(w=y,g=v,h=0,m=w;m;m=Zn(m))h++;for(m=0,E=g;E;E=Zn(E))m++;for(;0<h-m;)w=Zn(w),h--;for(;0<m-h;)g=Zn(g),m--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=Zn(w),g=Zn(g)}w=null}else w=null;y!==null&&kc(p,c,y,w,!1),v!==null&&T!==null&&kc(p,T,v,w,!0)}}e:{if(c=u?or(u):window,y=c.nodeName&&c.nodeName.toLowerCase(),y==="select"||y==="input"&&c.type==="file")var R=v0;else if(gc(c))if(Ld)R=_0;else{R=w0;var x=y0}else(y=c.nodeName)&&y.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(R=S0);if(R&&(R=R(t,u))){Pd(p,R,n,f);break e}x&&x(t,c,u),t==="focusout"&&(x=c._wrapperState)&&x.controlled&&c.type==="number"&&bl(c,"number",c.value)}switch(x=u?or(u):window,t){case"focusin":(gc(x)||x.contentEditable==="true")&&(ir=x,Kl=u,ii=null);break;case"focusout":ii=Kl=ir=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,Sc(p,n,f);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":Sc(p,n,f)}var P;if(Za)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else rr?Dd(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Td&&n.locale!=="ko"&&(rr||L!=="onCompositionStart"?L==="onCompositionEnd"&&rr&&(P=Od()):(on=f,Ya="value"in on?on.value:on.textContent,rr=!0)),x=js(u,L),0<x.length&&(L=new fc(L,t,null,n,f),p.push({event:L,listeners:x}),P?L.data=P:(P=Nd(n),P!==null&&(L.data=P)))),(P=d0?h0(t,n):p0(t,n))&&(u=js(u,"onBeforeInput"),0<u.length&&(f=new fc("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=P))}Bd(p,e)})}function Si(t,e,n){return{instance:t,listener:e,currentTarget:n}}function js(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hi(t,n),s!=null&&r.unshift(Si(t,s,i)),s=hi(t,e),s!=null&&r.push(Si(t,s,i))),t=t.return}return r}function Zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=hi(n,s),a!=null&&o.unshift(Si(n,a,l))):i||(a=hi(n,s),a!=null&&o.push(Si(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var D0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Ec(t){return(typeof t=="string"?t:""+t).replace(D0,`
`).replace(N0,"")}function Qi(t,e,n){if(e=Ec(e),Ec(t)!==e&&n)throw Error(N(425))}function bs(){}var Gl=null,Yl=null;function Xl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(t){return xc.resolve(null).then(t).catch(R0)}:Jl;function R0(t){setTimeout(function(){throw t})}function nl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mi(e)}function fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Dr,_i="__reactProps$"+Dr,Ht="__reactContainer$"+Dr,Zl="__reactEvents$"+Dr,I0="__reactListeners$"+Dr,j0="__reactHandles$"+Dr;function Nn(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ht]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oc(t);t!==null;){if(n=t[Lt])return n;t=Oc(t)}return e}t=n,n=t.parentNode}return null}function Ii(t){return t=t[Lt]||t[Ht],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function or(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function ro(t){return t[_i]||null}var ea=[],lr=-1;function _n(t){return{current:t}}function oe(t){0>lr||(t.current=ea[lr],ea[lr]=null,lr--)}function ie(t,e){lr++,ea[lr]=t.current,t.current=e}var wn={},$e=_n(wn),Ye=_n(!1),bn=wn;function Sr(t,e){var n=t.type.contextTypes;if(!n)return wn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(t){return t=t.childContextTypes,t!=null}function Ms(){oe(Ye),oe($e)}function Tc(t,e,n){if($e.current!==wn)throw Error(N(168));ie($e,e),ie(Ye,n)}function Hd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,yg(t)||"Unknown",i));return he({},n,r)}function As(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,bn=$e.current,ie($e,t),ie(Ye,Ye.current),!0}function Dc(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Hd(t,e,bn),r.__reactInternalMemoizedMergedChildContext=t,oe(Ye),oe($e),ie($e,t)):oe(Ye),ie(Ye,n)}var $t=null,io=!1,rl=!1;function Wd(t){$t===null?$t=[t]:$t.push(t)}function b0(t){io=!0,Wd(t)}function Cn(){if(!rl&&$t!==null){rl=!0;var t=0,e=te;try{var n=$t;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,io=!1}catch(i){throw $t!==null&&($t=$t.slice(t+1)),gd(Va,Cn),i}finally{te=e,rl=!1}}return null}var ar=[],ur=0,$s=null,zs=0,ct=[],ft=0,Mn=null,zt=1,Ft="";function Tn(t,e){ar[ur++]=zs,ar[ur++]=$s,$s=t,zs=e}function qd(t,e,n){ct[ft++]=zt,ct[ft++]=Ft,ct[ft++]=Mn,Mn=t;var r=zt;t=Ft;var i=32-Et(r)-1;r&=~(1<<i),n+=1;var s=32-Et(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zt=1<<32-Et(e)+i|n<<i|r,Ft=s+t}else zt=1<<s|n<<i|r,Ft=t}function tu(t){t.return!==null&&(Tn(t,1),qd(t,1,0))}function nu(t){for(;t===$s;)$s=ar[--ur],ar[ur]=null,zs=ar[--ur],ar[ur]=null;for(;t===Mn;)Mn=ct[--ft],ct[ft]=null,Ft=ct[--ft],ct[ft]=null,zt=ct[--ft],ct[ft]=null}var rt=null,nt=null,ce=!1,kt=null;function Vd(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rt=t,nt=fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rt=t,nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mn!==null?{id:zt,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rt=t,nt=null,!0):!1;default:return!1}}function ta(t){return(t.mode&1)!==0&&(t.flags&128)===0}function na(t){if(ce){var e=nt;if(e){var n=e;if(!Nc(t,e)){if(ta(t))throw Error(N(418));e=fn(n.nextSibling);var r=rt;e&&Nc(t,e)?Vd(r,n):(t.flags=t.flags&-4097|2,ce=!1,rt=t)}}else{if(ta(t))throw Error(N(418));t.flags=t.flags&-4097|2,ce=!1,rt=t}}}function Pc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rt=t}function Gi(t){if(t!==rt)return!1;if(!ce)return Pc(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xl(t.type,t.memoizedProps)),e&&(e=nt)){if(ta(t))throw Kd(),Error(N(418));for(;e;)Vd(t,e),e=fn(e.nextSibling)}if(Pc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nt=fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nt=null}}else nt=rt?fn(t.stateNode.nextSibling):null;return!0}function Kd(){for(var t=nt;t;)t=fn(t.nextSibling)}function _r(){nt=rt=null,ce=!1}function ru(t){kt===null?kt=[t]:kt.push(t)}var M0=Vt.ReactCurrentBatchConfig;function Ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Yi(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lc(t){var e=t._init;return e(t._payload)}function Qd(t){function e(g,h){if(t){var m=g.deletions;m===null?(g.deletions=[h],g.flags|=16):m.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=gn(g,h),g.index=0,g.sibling=null,g}function s(g,h,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<h?(g.flags|=2,h):m):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,h,m,E){return h===null||h.tag!==6?(h=cl(m,g.mode,E),h.return=g,h):(h=i(h,m),h.return=g,h)}function a(g,h,m,E){var R=m.type;return R===nr?f(g,h,m.props.children,E,m.key):h!==null&&(h.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zt&&Lc(R)===h.type)?(E=i(h,m.props),E.ref=Ur(g,h,m),E.return=g,E):(E=ys(m.type,m.key,m.props,null,g.mode,E),E.ref=Ur(g,h,m),E.return=g,E)}function u(g,h,m,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=fl(m,g.mode,E),h.return=g,h):(h=i(h,m.children||[]),h.return=g,h)}function f(g,h,m,E,R){return h===null||h.tag!==7?(h=In(m,g.mode,E,R),h.return=g,h):(h=i(h,m),h.return=g,h)}function p(g,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=cl(""+h,g.mode,m),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case zi:return m=ys(h.type,h.key,h.props,null,g.mode,m),m.ref=Ur(g,null,h),m.return=g,m;case tr:return h=fl(h,g.mode,m),h.return=g,h;case Zt:var E=h._init;return p(g,E(h._payload),m)}if(Gr(h)||Ar(h))return h=In(h,g.mode,m,null),h.return=g,h;Yi(g,h)}return null}function c(g,h,m,E){var R=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return R!==null?null:l(g,h,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:return m.key===R?a(g,h,m,E):null;case tr:return m.key===R?u(g,h,m,E):null;case Zt:return R=m._init,c(g,h,R(m._payload),E)}if(Gr(m)||Ar(m))return R!==null?null:f(g,h,m,E,null);Yi(g,m)}return null}function y(g,h,m,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(m)||null,l(h,g,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zi:return g=g.get(E.key===null?m:E.key)||null,a(h,g,E,R);case tr:return g=g.get(E.key===null?m:E.key)||null,u(h,g,E,R);case Zt:var x=E._init;return y(g,h,m,x(E._payload),R)}if(Gr(E)||Ar(E))return g=g.get(m)||null,f(h,g,E,R,null);Yi(h,E)}return null}function v(g,h,m,E){for(var R=null,x=null,P=h,L=h=0,H=null;P!==null&&L<m.length;L++){P.index>L?(H=P,P=null):H=P.sibling;var A=c(g,P,m[L],E);if(A===null){P===null&&(P=H);break}t&&P&&A.alternate===null&&e(g,P),h=s(A,h,L),x===null?R=A:x.sibling=A,x=A,P=H}if(L===m.length)return n(g,P),ce&&Tn(g,L),R;if(P===null){for(;L<m.length;L++)P=p(g,m[L],E),P!==null&&(h=s(P,h,L),x===null?R=P:x.sibling=P,x=P);return ce&&Tn(g,L),R}for(P=r(g,P);L<m.length;L++)H=y(P,g,L,m[L],E),H!==null&&(t&&H.alternate!==null&&P.delete(H.key===null?L:H.key),h=s(H,h,L),x===null?R=H:x.sibling=H,x=H);return t&&P.forEach(function(J){return e(g,J)}),ce&&Tn(g,L),R}function w(g,h,m,E){var R=Ar(m);if(typeof R!="function")throw Error(N(150));if(m=R.call(m),m==null)throw Error(N(151));for(var x=R=null,P=h,L=h=0,H=null,A=m.next();P!==null&&!A.done;L++,A=m.next()){P.index>L?(H=P,P=null):H=P.sibling;var J=c(g,P,A.value,E);if(J===null){P===null&&(P=H);break}t&&P&&J.alternate===null&&e(g,P),h=s(J,h,L),x===null?R=J:x.sibling=J,x=J,P=H}if(A.done)return n(g,P),ce&&Tn(g,L),R;if(P===null){for(;!A.done;L++,A=m.next())A=p(g,A.value,E),A!==null&&(h=s(A,h,L),x===null?R=A:x.sibling=A,x=A);return ce&&Tn(g,L),R}for(P=r(g,P);!A.done;L++,A=m.next())A=y(P,g,L,A.value,E),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?L:A.key),h=s(A,h,L),x===null?R=A:x.sibling=A,x=A);return t&&P.forEach(function(re){return e(g,re)}),ce&&Tn(g,L),R}function T(g,h,m,E){if(typeof m=="object"&&m!==null&&m.type===nr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:e:{for(var R=m.key,x=h;x!==null;){if(x.key===R){if(R=m.type,R===nr){if(x.tag===7){n(g,x.sibling),h=i(x,m.props.children),h.return=g,g=h;break e}}else if(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zt&&Lc(R)===x.type){n(g,x.sibling),h=i(x,m.props),h.ref=Ur(g,x,m),h.return=g,g=h;break e}n(g,x);break}else e(g,x);x=x.sibling}m.type===nr?(h=In(m.props.children,g.mode,E,m.key),h.return=g,g=h):(E=ys(m.type,m.key,m.props,null,g.mode,E),E.ref=Ur(g,h,m),E.return=g,g=E)}return o(g);case tr:e:{for(x=m.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(g,h.sibling),h=i(h,m.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=fl(m,g.mode,E),h.return=g,g=h}return o(g);case Zt:return x=m._init,T(g,h,x(m._payload),E)}if(Gr(m))return v(g,h,m,E);if(Ar(m))return w(g,h,m,E);Yi(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,m),h.return=g,g=h):(n(g,h),h=cl(m,g.mode,E),h.return=g,g=h),o(g)):n(g,h)}return T}var Cr=Qd(!0),Gd=Qd(!1),Fs=_n(null),Bs=null,cr=null,iu=null;function su(){iu=cr=Bs=null}function ou(t){var e=Fs.current;oe(Fs),t._currentValue=e}function ra(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vr(t,e){Bs=t,iu=cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if(iu!==t)if(t={context:t,memoizedValue:e,next:null},cr===null){if(Bs===null)throw Error(N(308));cr=t,Bs.dependencies={lanes:0,firstContext:t}}else cr=cr.next=t;return e}var Pn=null;function lu(t){Pn===null?Pn=[t]:Pn.push(t)}function Yd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wt(t,r)}function Wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var en=!1;function au(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wt(t,n)}return i=r.interleaved,i===null?(e.next=e,lu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wt(t,n)}function ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ka(t,n)}}function Rc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Us(t,e,n,r){var i=t.updateQueue;en=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var p=i.baseState;o=0,f=u=a=null,l=s;do{var c=l.lane,y=l.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(c=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(y,p,c);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,c=typeof v=="function"?v.call(y,p,c):v,c==null)break e;p=he({},p,c);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else y={eventTime:y,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,a=p):f=f.next=y,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$n|=o,t.lanes=o,t.memoizedState=p}}function Ic(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var ji={},It=_n(ji),Ci=_n(ji),ki=_n(ji);function Ln(t){if(t===ji)throw Error(N(174));return t}function uu(t,e){switch(ie(ki,e),ie(Ci,t),ie(It,ji),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Al(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Al(e,t)}oe(It),ie(It,e)}function kr(){oe(It),oe(Ci),oe(ki)}function Jd(t){Ln(ki.current);var e=Ln(It.current),n=Al(e,t.type);e!==n&&(ie(Ci,t),ie(It,n))}function cu(t){Ci.current===t&&(oe(It),oe(Ci))}var fe=_n(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var il=[];function fu(){for(var t=0;t<il.length;t++)il[t]._workInProgressVersionPrimary=null;il.length=0}var hs=Vt.ReactCurrentDispatcher,sl=Vt.ReactCurrentBatchConfig,An=0,de=null,Ce=null,Te=null,Ws=!1,si=!1,Ei=0,A0=0;function Ie(){throw Error(N(321))}function du(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function hu(t,e,n,r,i,s){if(An=s,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hs.current=t===null||t.memoizedState===null?B0:U0,t=n(r,i),si){s=0;do{if(si=!1,Ei=0,25<=s)throw Error(N(301));s+=1,Te=Ce=null,e.updateQueue=null,hs.current=H0,t=n(r,i)}while(si)}if(hs.current=qs,e=Ce!==null&&Ce.next!==null,An=0,Te=Ce=de=null,Ws=!1,e)throw Error(N(300));return t}function pu(){var t=Ei!==0;return Ei=0,t}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?de.memoizedState=Te=t:Te=Te.next=t,Te}function vt(){if(Ce===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Te===null?de.memoizedState:Te.next;if(e!==null)Te=e,Ce=t;else{if(t===null)throw Error(N(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?de.memoizedState=Te=t:Te=Te.next=t}return Te}function xi(t,e){return typeof e=="function"?e(t):e}function ol(t){var e=vt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((An&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=p,o=r):a=a.next=p,de.lanes|=f,$n|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Ot(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,de.lanes|=s,$n|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ll(t){var e=vt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ot(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Zd(){}function eh(t,e){var n=de,r=vt(),i=e(),s=!Ot(r.memoizedState,i);if(s&&(r.memoizedState=i,Ge=!0),r=r.queue,gu(rh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Oi(9,nh.bind(null,n,r,i,e),void 0,null),De===null)throw Error(N(349));An&30||th(n,e,i)}return i}function th(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nh(t,e,n,r){e.value=n,e.getSnapshot=r,ih(e)&&sh(t)}function rh(t,e,n){return n(function(){ih(e)&&sh(t)})}function ih(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function sh(t){var e=Wt(t,1);e!==null&&xt(e,t,1,-1)}function jc(t){var e=Pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},e.queue=t,t=t.dispatch=F0.bind(null,de,t),[e.memoizedState,t]}function Oi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oh(){return vt().memoizedState}function ps(t,e,n,r){var i=Pt();de.flags|=t,i.memoizedState=Oi(1|e,n,void 0,r===void 0?null:r)}function so(t,e,n,r){var i=vt();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var o=Ce.memoizedState;if(s=o.destroy,r!==null&&du(r,o.deps)){i.memoizedState=Oi(e,n,s,r);return}}de.flags|=t,i.memoizedState=Oi(1|e,n,s,r)}function bc(t,e){return ps(8390656,8,t,e)}function gu(t,e){return so(2048,8,t,e)}function lh(t,e){return so(4,2,t,e)}function ah(t,e){return so(4,4,t,e)}function uh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ch(t,e,n){return n=n!=null?n.concat([t]):null,so(4,4,uh.bind(null,e,t),n)}function mu(){}function fh(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&du(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dh(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&du(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hh(t,e,n){return An&21?(Ot(n,e)||(n=yd(),de.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=n)}function $0(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=sl.transition;sl.transition={};try{t(!1),e()}finally{te=n,sl.transition=r}}function ph(){return vt().memoizedState}function z0(t,e,n){var r=pn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gh(t))mh(e,n);else if(n=Yd(t,e,n,r),n!==null){var i=He();xt(n,t,r,i),vh(n,e,r)}}function F0(t,e,n){var r=pn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(t))mh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ot(l,o)){var a=e.interleaved;a===null?(i.next=i,lu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Yd(t,e,i,r),n!==null&&(i=He(),xt(n,t,r,i),vh(n,e,r))}}function gh(t){var e=t.alternate;return t===de||e!==null&&e===de}function mh(t,e){si=Ws=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ka(t,n)}}var qs={readContext:mt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},B0={readContext:mt,useCallback:function(t,e){return Pt().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:bc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ps(4194308,4,uh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return ps(4,2,t,e)},useMemo:function(t,e){var n=Pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z0.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=Pt();return t={current:t},e.memoizedState=t},useState:jc,useDebugValue:mu,useDeferredValue:function(t){return Pt().memoizedState=t},useTransition:function(){var t=jc(!1),e=t[0];return t=$0.bind(null,t[1]),Pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,i=Pt();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),De===null)throw Error(N(349));An&30||th(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bc(rh.bind(null,r,s,t),[t]),r.flags|=2048,Oi(9,nh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pt(),e=De.identifierPrefix;if(ce){var n=Ft,r=zt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ei++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U0={readContext:mt,useCallback:fh,useContext:mt,useEffect:gu,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:dh,useReducer:ol,useRef:oh,useState:function(){return ol(xi)},useDebugValue:mu,useDeferredValue:function(t){var e=vt();return hh(e,Ce.memoizedState,t)},useTransition:function(){var t=ol(xi)[0],e=vt().memoizedState;return[t,e]},useMutableSource:Zd,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1},H0={readContext:mt,useCallback:fh,useContext:mt,useEffect:gu,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:dh,useReducer:ll,useRef:oh,useState:function(){return ll(xi)},useDebugValue:mu,useDeferredValue:function(t){var e=vt();return Ce===null?e.memoizedState=t:hh(e,Ce.memoizedState,t)},useTransition:function(){var t=ll(xi)[0],e=vt().memoizedState;return[t,e]},useMutableSource:Zd,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ia(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oo={isMounted:function(t){return(t=t._reactInternals)?Hn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=He(),i=pn(t),s=Bt(r,i);s.payload=e,n!=null&&(s.callback=n),e=dn(t,s,i),e!==null&&(xt(e,t,i,r),ds(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=He(),i=pn(t),s=Bt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=dn(t,s,i),e!==null&&(xt(e,t,i,r),ds(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=He(),r=pn(t),i=Bt(n,r);i.tag=2,e!=null&&(i.callback=e),e=dn(t,i,r),e!==null&&(xt(e,t,r,n),ds(e,t,r))}};function Mc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yi(n,r)||!yi(i,s):!0}function yh(t,e,n){var r=!1,i=wn,s=e.contextType;return typeof s=="object"&&s!==null?s=mt(s):(i=Xe(e)?bn:$e.current,r=e.contextTypes,s=(r=r!=null)?Sr(t,i):wn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ac(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oo.enqueueReplaceState(e,e.state,null)}function sa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},au(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mt(s):(s=Xe(e)?bn:$e.current,i.context=Sr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ia(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oo.enqueueReplaceState(i,i.state,null),Us(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Er(t,e){try{var n="",r=e;do n+=vg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function al(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function wh(t,e,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,ma=r),oa(t,e)},n}function Sh(t,e,n){n=Bt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oa(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oa(t,e),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $c(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=im.bind(null,t,e,n),e.then(t,t))}function zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bt(-1,1),e.tag=2,dn(n,e,1))),n.lanes|=1),t)}var q0=Vt.ReactCurrentOwner,Ge=!1;function Ue(t,e,n,r){e.child=t===null?Gd(e,null,n,r):Cr(e,t.child,n,r)}function Bc(t,e,n,r,i){n=n.render;var s=e.ref;return vr(e,i),r=hu(t,e,n,r,s,i),n=pu(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(ce&&n&&tu(e),e.flags|=1,Ue(t,e,r,i),e.child)}function Uc(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Eu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_h(t,e,s,r,i)):(t=ys(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(o,r)&&t.ref===e.ref)return qt(t,e,i)}return e.flags|=1,t=gn(s,r),t.ref=e.ref,t.return=e,e.child=t}function _h(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yi(s,r)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,qt(t,e,i)}return la(t,e,n,r,i)}function Ch(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(dr,tt),tt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(dr,tt),tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(dr,tt),tt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ie(dr,tt),tt|=r;return Ue(t,e,i,n),e.child}function kh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function la(t,e,n,r,i){var s=Xe(n)?bn:$e.current;return s=Sr(e,s),vr(e,i),n=hu(t,e,n,r,s,i),r=pu(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(ce&&r&&tu(e),e.flags|=1,Ue(t,e,n,i),e.child)}function Hc(t,e,n,r,i){if(Xe(n)){var s=!0;As(e)}else s=!1;if(vr(e,i),e.stateNode===null)gs(t,e),yh(e,n,r),sa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Xe(n)?bn:$e.current,u=Sr(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ac(e,o,r,u),en=!1;var c=e.memoizedState;o.state=c,Us(e,r,o,i),a=e.memoizedState,l!==r||c!==a||Ye.current||en?(typeof f=="function"&&(ia(e,n,f,r),a=e.memoizedState),(l=en||Mc(e,n,l,r,c,a,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:St(e.type,l),o.props=u,p=e.pendingProps,c=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=mt(a):(a=Xe(n)?bn:$e.current,a=Sr(e,a));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||c!==a)&&Ac(e,o,r,a),en=!1,c=e.memoizedState,o.state=c,Us(e,r,o,i);var v=e.memoizedState;l!==p||c!==v||Ye.current||en?(typeof y=="function"&&(ia(e,n,y,r),v=e.memoizedState),(u=en||Mc(e,n,u,r,c,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return aa(t,e,n,r,s,i)}function aa(t,e,n,r,i,s){kh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dc(e,n,!1),qt(t,e,s);r=e.stateNode,q0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Cr(e,t.child,null,s),e.child=Cr(e,null,l,s)):Ue(t,e,l,s),e.memoizedState=r.state,i&&Dc(e,n,!0),e.child}function Eh(t){var e=t.stateNode;e.pendingContext?Tc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tc(t,e.context,!1),uu(t,e.containerInfo)}function Wc(t,e,n,r,i){return _r(),ru(i),e.flags|=256,Ue(t,e,n,r),e.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function ca(t){return{baseLanes:t,cachePool:null,transitions:null}}function xh(t,e,n){var r=e.pendingProps,i=fe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(fe,i&1),t===null)return na(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uo(o,r,0,null),t=In(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ca(n),e.memoizedState=ua,t):vu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return V0(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=gn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=gn(l,s):(s=In(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ca(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ua,r}return s=t.child,t=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vu(t,e){return e=uo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xi(t,e,n,r){return r!==null&&ru(r),Cr(e,t.child,null,n),t=vu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=al(Error(N(422))),Xi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uo({mode:"visible",children:r.children},i,0,null),s=In(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Cr(e,t.child,null,o),e.child.memoizedState=ca(o),e.memoizedState=ua,s);if(!(e.mode&1))return Xi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(N(419)),r=al(s,r,void 0),Xi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ge||l){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wt(t,i),xt(r,t,i,-1))}return ku(),r=al(Error(N(421))),Xi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sm.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nt=fn(i.nextSibling),rt=e,ce=!0,kt=null,t!==null&&(ct[ft++]=zt,ct[ft++]=Ft,ct[ft++]=Mn,zt=t.id,Ft=t.overflow,Mn=e),e=vu(e,r.children),e.flags|=4096,e)}function qc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ra(t.return,e,n)}function ul(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Oh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ue(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qc(t,n,e);else if(t.tag===19)qc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ul(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ul(e,!0,n,null,s);break;case"together":ul(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K0(t,e,n){switch(e.tag){case 3:Eh(e),_r();break;case 5:Jd(e);break;case 1:Xe(e.type)&&As(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ie(Fs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?xh(t,e,n):(ie(fe,fe.current&1),t=qt(t,e,n),t!==null?t.sibling:null);ie(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Oh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Ch(t,e,n)}return qt(t,e,n)}var Th,fa,Dh,Nh;Th=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fa=function(){};Dh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ln(It.current);var s=null;switch(n){case"input":i=Il(t,i),r=Il(t,r),s=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":i=Ml(t,i),r=Ml(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bs)}$l(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&se("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Nh=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hr(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q0(t,e,n){var r=e.pendingProps;switch(nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return Xe(e.type)&&Ms(),je(e),null;case 3:return r=e.stateNode,kr(),oe(Ye),oe($e),fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(wa(kt),kt=null))),fa(t,e),je(e),null;case 5:cu(e);var i=Ln(ki.current);if(n=e.type,t!==null&&e.stateNode!=null)Dh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return je(e),null}if(t=Ln(It.current),Gi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Lt]=e,r[_i]=s,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(i=0;i<Xr.length;i++)se(Xr[i],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":ec(r,s),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},se("invalid",r);break;case"textarea":nc(r,s),se("invalid",r)}$l(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Qi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Qi(r.textContent,l,t),i=["children",""+l]):fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&se("scroll",r)}switch(n){case"input":Fi(r),tc(r,s,!0);break;case"textarea":Fi(r),rc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Lt]=e,t[_i]=r,Th(t,e,!1,!1),e.stateNode=t;e:{switch(o=zl(n,r),n){case"dialog":se("cancel",t),se("close",t),i=r;break;case"iframe":case"object":case"embed":se("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xr.length;i++)se(Xr[i],t);i=r;break;case"source":se("error",t),i=r;break;case"img":case"image":case"link":se("error",t),se("load",t),i=r;break;case"details":se("toggle",t),i=r;break;case"input":ec(t,r),i=Il(t,r),se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),se("invalid",t);break;case"textarea":nc(t,r),i=Ml(t,r),se("invalid",t);break;default:i=r}$l(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?od(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&id(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&di(t,a):typeof a=="number"&&di(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&se("scroll",t):a!=null&&Ba(t,s,a,o))}switch(n){case"input":Fi(t),tc(t,r,!1);break;case"textarea":Fi(t),rc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hr(t,!!r.multiple,s,!1):r.defaultValue!=null&&hr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)Nh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Ln(ki.current),Ln(It.current),Gi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lt]=e,(s=r.nodeValue!==n)&&(t=rt,t!==null))switch(t.tag){case 3:Qi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=e,e.stateNode=r}return je(e),null;case 13:if(oe(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&nt!==null&&e.mode&1&&!(e.flags&128))Kd(),_r(),e.flags|=98560,s=!1;else if(s=Gi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Lt]=e}else _r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),s=!1}else kt!==null&&(wa(kt),kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?ke===0&&(ke=3):ku())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return kr(),fa(t,e),t===null&&wi(e.stateNode.containerInfo),je(e),null;case 10:return ou(e.type._context),je(e),null;case 17:return Xe(e.type)&&Ms(),je(e),null;case 19:if(oe(fe),s=e.memoizedState,s===null)return je(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hr(s,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hs(t),o!==null){for(e.flags|=128,Hr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&me()>xr&&(e.flags|=128,r=!0,Hr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ce)return je(e),null}else 2*me()-s.renderingStartTime>xr&&n!==1073741824&&(e.flags|=128,r=!0,Hr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=me(),e.sibling=null,n=fe.current,ie(fe,r?n&1|2:n&1),e):(je(e),null);case 22:case 23:return Cu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tt&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function G0(t,e){switch(nu(e),e.tag){case 1:return Xe(e.type)&&Ms(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kr(),oe(Ye),oe($e),fu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cu(e),null;case 13:if(oe(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));_r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(fe),null;case 4:return kr(),null;case 10:return ou(e.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var Ji=!1,Ae=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,b=null;function fr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(t,e,r)}else n.current=null}function da(t,e,n){try{n()}catch(r){pe(t,e,r)}}var Vc=!1;function X0(t,e){if(Gl=Rs,t=jd(),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,p=t,c=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)c=p,p=y;for(;;){if(p===t)break t;if(c===n&&++u===i&&(l=o),c===s&&++f===r&&(a=o),(y=p.nextSibling)!==null)break;p=c,c=p.parentNode}p=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:t,selectionRange:n},Rs=!1,b=e;b!==null;)if(e=b,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,b=t;else for(;b!==null;){e=b;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:St(e.type,w),T);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){pe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,b=t;break}b=e.return}return v=Vc,Vc=!1,v}function oi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&da(e,n,s)}i=i.next}while(i!==r)}}function lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ha(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ph(t){var e=t.alternate;e!==null&&(t.alternate=null,Ph(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[_i],delete e[Zl],delete e[I0],delete e[j0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lh(t){return t.tag===5||t.tag===3||t.tag===4}function Kc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bs));else if(r!==4&&(t=t.child,t!==null))for(pa(t,e,n),t=t.sibling;t!==null;)pa(t,e,n),t=t.sibling}function ga(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ga(t,e,n),t=t.sibling;t!==null;)ga(t,e,n),t=t.sibling}var Ne=null,_t=!1;function Yt(t,e,n){for(n=n.child;n!==null;)Rh(t,e,n),n=n.sibling}function Rh(t,e,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:Ae||fr(n,e);case 6:var r=Ne,i=_t;Ne=null,Yt(t,e,n),Ne=r,_t=i,Ne!==null&&(_t?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(_t?(t=Ne,n=n.stateNode,t.nodeType===8?nl(t.parentNode,n):t.nodeType===1&&nl(t,n),mi(t)):nl(Ne,n.stateNode));break;case 4:r=Ne,i=_t,Ne=n.stateNode.containerInfo,_t=!0,Yt(t,e,n),Ne=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&da(n,e,o),i=i.next}while(i!==r)}Yt(t,e,n);break;case 1:if(!Ae&&(fr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,e,l)}Yt(t,e,n);break;case 21:Yt(t,e,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Yt(t,e,n),Ae=r):Yt(t,e,n);break;default:Yt(t,e,n)}}function Qc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Y0),e.forEach(function(r){var i=om.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,_t=!1;break e;case 3:Ne=l.stateNode.containerInfo,_t=!0;break e;case 4:Ne=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(Ne===null)throw Error(N(160));Rh(s,o,i),Ne=null,_t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ih(e,t),e=e.sibling}function Ih(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Nt(t),r&4){try{oi(3,t,t.return),lo(3,t)}catch(w){pe(t,t.return,w)}try{oi(5,t,t.return)}catch(w){pe(t,t.return,w)}}break;case 1:wt(e,t),Nt(t),r&512&&n!==null&&fr(n,n.return);break;case 5:if(wt(e,t),Nt(t),r&512&&n!==null&&fr(n,n.return),t.flags&32){var i=t.stateNode;try{di(i,"")}catch(w){pe(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&td(i,s),zl(l,o);var u=zl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],p=a[o+1];f==="style"?od(i,p):f==="dangerouslySetInnerHTML"?id(i,p):f==="children"?di(i,p):Ba(i,f,p,u)}switch(l){case"input":jl(i,s);break;case"textarea":nd(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?hr(i,!!s.multiple,y,!1):c!==!!s.multiple&&(s.defaultValue!=null?hr(i,!!s.multiple,s.defaultValue,!0):hr(i,!!s.multiple,s.multiple?[]:"",!1))}i[_i]=s}catch(w){pe(t,t.return,w)}}break;case 6:if(wt(e,t),Nt(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){pe(t,t.return,w)}}break;case 3:if(wt(e,t),Nt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mi(e.containerInfo)}catch(w){pe(t,t.return,w)}break;case 4:wt(e,t),Nt(t);break;case 13:wt(e,t),Nt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Su=me())),r&4&&Qc(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||f,wt(e,t),Ae=u):wt(e,t),Nt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(b=t,f=t.child;f!==null;){for(p=b=f;b!==null;){switch(c=b,y=c.child,c.tag){case 0:case 11:case 14:case 15:oi(4,c,c.return);break;case 1:fr(c,c.return);var v=c.stateNode;if(typeof v.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){pe(r,n,w)}}break;case 5:fr(c,c.return);break;case 22:if(c.memoizedState!==null){Yc(p);continue}}y!==null?(y.return=c,b=y):Yc(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sd("display",o))}catch(w){pe(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){pe(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wt(e,t),Nt(t),r&4&&Qc(t);break;case 21:break;default:wt(e,t),Nt(t)}}function Nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(di(i,""),r.flags&=-33);var s=Kc(t);ga(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Kc(t);pa(t,l,o);break;default:throw Error(N(161))}}catch(a){pe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J0(t,e,n){b=t,jh(t)}function jh(t,e,n){for(var r=(t.mode&1)!==0;b!==null;){var i=b,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ji;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ae;l=Ji;var u=Ae;if(Ji=o,(Ae=a)&&!u)for(b=i;b!==null;)o=b,a=o.child,o.tag===22&&o.memoizedState!==null?Xc(i):a!==null?(a.return=o,b=a):Xc(i);for(;s!==null;)b=s,jh(s),s=s.sibling;b=i,Ji=l,Ae=u}Gc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,b=s):Gc(t)}}function Gc(t){for(;b!==null;){var e=b;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||lo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ic(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ic(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&mi(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ae||e.flags&512&&ha(e)}catch(c){pe(e,e.return,c)}}if(e===t){b=null;break}if(n=e.sibling,n!==null){n.return=e.return,b=n;break}b=e.return}}function Yc(t){for(;b!==null;){var e=b;if(e===t){b=null;break}var n=e.sibling;if(n!==null){n.return=e.return,b=n;break}b=e.return}}function Xc(t){for(;b!==null;){var e=b;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lo(4,e)}catch(a){pe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){pe(e,i,a)}}var s=e.return;try{ha(e)}catch(a){pe(e,s,a)}break;case 5:var o=e.return;try{ha(e)}catch(a){pe(e,o,a)}}}catch(a){pe(e,e.return,a)}if(e===t){b=null;break}var l=e.sibling;if(l!==null){l.return=e.return,b=l;break}b=e.return}}var Z0=Math.ceil,Vs=Vt.ReactCurrentDispatcher,yu=Vt.ReactCurrentOwner,gt=Vt.ReactCurrentBatchConfig,Y=0,De=null,ye=null,Pe=0,tt=0,dr=_n(0),ke=0,Ti=null,$n=0,ao=0,wu=0,li=null,Qe=null,Su=0,xr=1/0,At=null,Ks=!1,ma=null,hn=null,Zi=!1,ln=null,Qs=0,ai=0,va=null,ms=-1,vs=0;function He(){return Y&6?me():ms!==-1?ms:ms=me()}function pn(t){return t.mode&1?Y&2&&Pe!==0?Pe&-Pe:M0.transition!==null?(vs===0&&(vs=yd()),vs):(t=te,t!==0||(t=window.event,t=t===void 0?16:xd(t.type)),t):1}function xt(t,e,n,r){if(50<ai)throw ai=0,va=null,Error(N(185));Li(t,n,r),(!(Y&2)||t!==De)&&(t===De&&(!(Y&2)&&(ao|=n),ke===4&&sn(t,Pe)),Je(t,r),n===1&&Y===0&&!(e.mode&1)&&(xr=me()+500,io&&Cn()))}function Je(t,e){var n=t.callbackNode;Mg(t,e);var r=Ls(t,t===De?Pe:0);if(r===0)n!==null&&oc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oc(n),e===1)t.tag===0?b0(Jc.bind(null,t)):Wd(Jc.bind(null,t)),L0(function(){!(Y&6)&&Cn()}),n=null;else{switch(wd(r)){case 1:n=Va;break;case 4:n=md;break;case 16:n=Ps;break;case 536870912:n=vd;break;default:n=Ps}n=Uh(n,bh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bh(t,e){if(ms=-1,vs=0,Y&6)throw Error(N(327));var n=t.callbackNode;if(yr()&&t.callbackNode!==n)return null;var r=Ls(t,t===De?Pe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gs(t,r);else{e=r;var i=Y;Y|=2;var s=Ah();(De!==t||Pe!==e)&&(At=null,xr=me()+500,Rn(t,e));do try{nm();break}catch(l){Mh(t,l)}while(!0);su(),Vs.current=s,Y=i,ye!==null?e=0:(De=null,Pe=0,e=ke)}if(e!==0){if(e===2&&(i=Wl(t),i!==0&&(r=i,e=ya(t,i))),e===1)throw n=Ti,Rn(t,0),sn(t,r),Je(t,me()),n;if(e===6)sn(t,r);else{if(i=t.current.alternate,!(r&30)&&!em(i)&&(e=Gs(t,r),e===2&&(s=Wl(t),s!==0&&(r=s,e=ya(t,s))),e===1))throw n=Ti,Rn(t,0),sn(t,r),Je(t,me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Dn(t,Qe,At);break;case 3:if(sn(t,r),(r&130023424)===r&&(e=Su+500-me(),10<e)){if(Ls(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){He(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jl(Dn.bind(null,t,Qe,At),e);break}Dn(t,Qe,At);break;case 4:if(sn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Et(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z0(r/1960))-r,10<r){t.timeoutHandle=Jl(Dn.bind(null,t,Qe,At),r);break}Dn(t,Qe,At);break;case 5:Dn(t,Qe,At);break;default:throw Error(N(329))}}}return Je(t,me()),t.callbackNode===n?bh.bind(null,t):null}function ya(t,e){var n=li;return t.current.memoizedState.isDehydrated&&(Rn(t,e).flags|=256),t=Gs(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&wa(e)),t}function wa(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function em(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~wu,e&=~ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Et(e),r=1<<n;t[n]=-1,e&=~r}}function Jc(t){if(Y&6)throw Error(N(327));yr();var e=Ls(t,0);if(!(e&1))return Je(t,me()),null;var n=Gs(t,e);if(t.tag!==0&&n===2){var r=Wl(t);r!==0&&(e=r,n=ya(t,r))}if(n===1)throw n=Ti,Rn(t,0),sn(t,e),Je(t,me()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dn(t,Qe,At),Je(t,me()),null}function _u(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(xr=me()+500,io&&Cn())}}function zn(t){ln!==null&&ln.tag===0&&!(Y&6)&&yr();var e=Y;Y|=1;var n=gt.transition,r=te;try{if(gt.transition=null,te=1,t)return t()}finally{te=r,gt.transition=n,Y=e,!(Y&6)&&Cn()}}function Cu(){tt=dr.current,oe(dr)}function Rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P0(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ms();break;case 3:kr(),oe(Ye),oe($e),fu();break;case 5:cu(r);break;case 4:kr();break;case 13:oe(fe);break;case 19:oe(fe);break;case 10:ou(r.type._context);break;case 22:case 23:Cu()}n=n.return}if(De=t,ye=t=gn(t.current,null),Pe=tt=e,ke=0,Ti=null,wu=ao=$n=0,Qe=li=null,Pn!==null){for(e=0;e<Pn.length;e++)if(n=Pn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pn=null}return t}function Mh(t,e){do{var n=ye;try{if(su(),hs.current=qs,Ws){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ws=!1}if(An=0,Te=Ce=de=null,si=!1,Ei=0,yu.current=null,n===null||n.return===null){ke=1,Ti=e,ye=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=zc(o);if(y!==null){y.flags&=-257,Fc(y,o,l,s,e),y.mode&1&&$c(s,u,e),e=y,a=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(a),e.updateQueue=w}else v.add(a);break e}else{if(!(e&1)){$c(s,u,e),ku();break e}a=Error(N(426))}}else if(ce&&l.mode&1){var T=zc(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Fc(T,o,l,s,e),ru(Er(a,l));break e}}s=a=Er(a,l),ke!==4&&(ke=2),li===null?li=[s]:li.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=wh(s,a,e);Rc(s,g);break e;case 1:l=a;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hn===null||!hn.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Sh(s,l,e);Rc(s,E);break e}}s=s.return}while(s!==null)}zh(n)}catch(R){e=R,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function Ah(){var t=Vs.current;return Vs.current=qs,t===null?qs:t}function ku(){(ke===0||ke===3||ke===2)&&(ke=4),De===null||!($n&268435455)&&!(ao&268435455)||sn(De,Pe)}function Gs(t,e){var n=Y;Y|=2;var r=Ah();(De!==t||Pe!==e)&&(At=null,Rn(t,e));do try{tm();break}catch(i){Mh(t,i)}while(!0);if(su(),Y=n,Vs.current=r,ye!==null)throw Error(N(261));return De=null,Pe=0,ke}function tm(){for(;ye!==null;)$h(ye)}function nm(){for(;ye!==null&&!Tg();)$h(ye)}function $h(t){var e=Bh(t.alternate,t,tt);t.memoizedProps=t.pendingProps,e===null?zh(t):ye=e,yu.current=null}function zh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G0(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,ye=null;return}}else if(n=Q0(n,e,tt),n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);ke===0&&(ke=5)}function Dn(t,e,n){var r=te,i=gt.transition;try{gt.transition=null,te=1,rm(t,e,n,r)}finally{gt.transition=i,te=r}return null}function rm(t,e,n,r){do yr();while(ln!==null);if(Y&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ag(t,s),t===De&&(ye=De=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zi||(Zi=!0,Uh(Ps,function(){return yr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gt.transition,gt.transition=null;var o=te;te=1;var l=Y;Y|=4,yu.current=null,X0(t,n),Ih(n,t),k0(Yl),Rs=!!Gl,Yl=Gl=null,t.current=n,J0(n),Dg(),Y=l,te=o,gt.transition=s}else t.current=n;if(Zi&&(Zi=!1,ln=t,Qs=i),s=t.pendingLanes,s===0&&(hn=null),Lg(n.stateNode),Je(t,me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,t=ma,ma=null,t;return Qs&1&&t.tag!==0&&yr(),s=t.pendingLanes,s&1?t===va?ai++:(ai=0,va=t):ai=0,Cn(),null}function yr(){if(ln!==null){var t=wd(Qs),e=gt.transition,n=te;try{if(gt.transition=null,te=16>t?16:t,ln===null)var r=!1;else{if(t=ln,ln=null,Qs=0,Y&6)throw Error(N(331));var i=Y;for(Y|=4,b=t.current;b!==null;){var s=b,o=s.child;if(b.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(b=u;b!==null;){var f=b;switch(f.tag){case 0:case 11:case 15:oi(8,f,s)}var p=f.child;if(p!==null)p.return=f,b=p;else for(;b!==null;){f=b;var c=f.sibling,y=f.return;if(Ph(f),f===u){b=null;break}if(c!==null){c.return=y,b=c;break}b=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}b=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,b=o;else e:for(;b!==null;){if(s=b,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,b=g;break e}b=s.return}}var h=t.current;for(b=h;b!==null;){o=b;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,b=m;else e:for(o=h;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lo(9,l)}}catch(R){pe(l,l.return,R)}if(l===o){b=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,b=E;break e}b=l.return}}if(Y=i,Cn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Zs,t)}catch{}r=!0}return r}finally{te=n,gt.transition=e}}return!1}function Zc(t,e,n){e=Er(n,e),e=wh(t,e,1),t=dn(t,e,1),e=He(),t!==null&&(Li(t,1,e),Je(t,e))}function pe(t,e,n){if(t.tag===3)Zc(t,t,n);else for(;e!==null;){if(e.tag===3){Zc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){t=Er(n,t),t=Sh(e,t,1),e=dn(e,t,1),t=He(),e!==null&&(Li(e,1,t),Je(e,t));break}}e=e.return}}function im(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=He(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>me()-Su?Rn(t,0):wu|=n),Je(t,e)}function Fh(t,e){e===0&&(t.mode&1?(e=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):e=1);var n=He();t=Wt(t,e),t!==null&&(Li(t,e,n),Je(t,n))}function sm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fh(t,n)}function om(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Fh(t,n)}var Bh;Bh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)Ge=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ge=!1,K0(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,ce&&e.flags&1048576&&qd(e,zs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gs(t,e),t=e.pendingProps;var i=Sr(e,$e.current);vr(e,n),i=hu(null,e,r,t,i,n);var s=pu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xe(r)?(s=!0,As(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,au(e),i.updater=oo,e.stateNode=i,i._reactInternals=e,sa(e,r,t,n),e=aa(null,e,r,!0,s,n)):(e.tag=0,ce&&s&&tu(e),Ue(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=am(r),t=St(r,t),i){case 0:e=la(null,e,r,t,n);break e;case 1:e=Hc(null,e,r,t,n);break e;case 11:e=Bc(null,e,r,t,n);break e;case 14:e=Uc(null,e,r,St(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),la(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),Hc(t,e,r,i,n);case 3:e:{if(Eh(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Xd(t,e),Us(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Er(Error(N(423)),e),e=Wc(t,e,r,n,i);break e}else if(r!==i){i=Er(Error(N(424)),e),e=Wc(t,e,r,n,i);break e}else for(nt=fn(e.stateNode.containerInfo.firstChild),rt=e,ce=!0,kt=null,n=Gd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===i){e=qt(t,e,n);break e}Ue(t,e,r,n)}e=e.child}return e;case 5:return Jd(e),t===null&&na(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xl(r,i)?o=null:s!==null&&Xl(r,s)&&(e.flags|=32),kh(t,e),Ue(t,e,o,n),e.child;case 6:return t===null&&na(e),null;case 13:return xh(t,e,n);case 4:return uu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cr(e,null,r,n):Ue(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),Bc(t,e,r,i,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ie(Fs,r._currentValue),r._currentValue=o,s!==null)if(Ot(s.value,o)){if(s.children===i.children&&!Ye.current){e=qt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Bt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ra(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ra(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ue(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vr(e,n),i=mt(i),r=r(i),e.flags|=1,Ue(t,e,r,n),e.child;case 14:return r=e.type,i=St(r,e.pendingProps),i=St(r.type,i),Uc(t,e,r,i,n);case 15:return _h(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),gs(t,e),e.tag=1,Xe(r)?(t=!0,As(e)):t=!1,vr(e,n),yh(e,r,i),sa(e,r,i,n),aa(null,e,r,!0,t,n);case 19:return Oh(t,e,n);case 22:return Ch(t,e,n)}throw Error(N(156,e.tag))};function Uh(t,e){return gd(t,e)}function lm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,r){return new lm(t,e,n,r)}function Eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function am(t){if(typeof t=="function")return Eu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ha)return 11;if(t===Wa)return 14}return 2}function gn(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ys(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Eu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nr:return In(n.children,i,s,e);case Ua:o=8,i|=8;break;case Nl:return t=pt(12,n,e,i|2),t.elementType=Nl,t.lanes=s,t;case Pl:return t=pt(13,n,e,i),t.elementType=Pl,t.lanes=s,t;case Ll:return t=pt(19,n,e,i),t.elementType=Ll,t.lanes=s,t;case Jf:return uo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yf:o=10;break e;case Xf:o=9;break e;case Ha:o=11;break e;case Wa:o=14;break e;case Zt:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=pt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function In(t,e,n,r){return t=pt(7,t,r,e),t.lanes=n,t}function uo(t,e,n,r){return t=pt(22,t,r,e),t.elementType=Jf,t.lanes=n,t.stateNode={isHidden:!1},t}function cl(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function fl(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function um(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xu(t,e,n,r,i,s,o,l,a){return t=new um(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(s),t}function cm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hh(t){if(!t)return wn;t=t._reactInternals;e:{if(Hn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Xe(n))return Hd(t,n,e)}return e}function Wh(t,e,n,r,i,s,o,l,a){return t=xu(n,r,!0,t,i,s,o,l,a),t.context=Hh(null),n=t.current,r=He(),i=pn(n),s=Bt(r,i),s.callback=e??null,dn(n,s,i),t.current.lanes=i,Li(t,i,r),Je(t,r),t}function co(t,e,n,r){var i=e.current,s=He(),o=pn(i);return n=Hh(n),e.context===null?e.context=n:e.pendingContext=n,e=Bt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dn(i,e,o),t!==null&&(xt(t,i,o,s),ds(t,i,o)),o}function Ys(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ef(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ou(t,e){ef(t,e),(t=t.alternate)&&ef(t,e)}function fm(){return null}var qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}fo.prototype.render=Tu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));co(t,e,null,null)};fo.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zn(function(){co(null,t,null,null)}),e[Ht]=null}};function fo(t){this._internalRoot=t}fo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rn.length&&e!==0&&e<rn[n].priority;n++);rn.splice(n,0,t),n===0&&Ed(t)}};function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tf(){}function dm(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ys(o);s.call(u)}}var o=Wh(e,r,t,0,null,!1,!1,"",tf);return t._reactRootContainer=o,t[Ht]=o.current,wi(t.nodeType===8?t.parentNode:t),zn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ys(a);l.call(u)}}var a=xu(t,0,!1,null,null,!1,!1,"",tf);return t._reactRootContainer=a,t[Ht]=a.current,wi(t.nodeType===8?t.parentNode:t),zn(function(){co(e,a,n,r)}),a}function po(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ys(o);l.call(a)}}co(e,o,t,i)}else o=dm(n,e,t,i,r);return Ys(o)}Sd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yr(e.pendingLanes);n!==0&&(Ka(e,n|1),Je(e,me()),!(Y&6)&&(xr=me()+500,Cn()))}break;case 13:zn(function(){var r=Wt(t,1);if(r!==null){var i=He();xt(r,t,1,i)}}),Ou(t,1)}};Qa=function(t){if(t.tag===13){var e=Wt(t,134217728);if(e!==null){var n=He();xt(e,t,134217728,n)}Ou(t,134217728)}};_d=function(t){if(t.tag===13){var e=pn(t),n=Wt(t,e);if(n!==null){var r=He();xt(n,t,e,r)}Ou(t,e)}};Cd=function(){return te};kd=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Bl=function(t,e,n){switch(e){case"input":if(jl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ro(r);if(!i)throw Error(N(90));ed(r),jl(r,i)}}}break;case"textarea":nd(t,n);break;case"select":e=n.value,e!=null&&hr(t,!!n.multiple,e,!1)}};ud=_u;cd=zn;var hm={usingClientEntryPoint:!1,Events:[Ii,or,ro,ld,ad,_u]},Wr={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hd(t),t===null?null:t.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Zs=es.inject(pm),Rt=es}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm;st.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(e))throw Error(N(200));return cm(t,e,null,n)};st.createRoot=function(t,e){if(!Du(t))throw Error(N(299));var n=!1,r="",i=qh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xu(t,1,!1,null,null,n,!1,r,i),t[Ht]=e.current,wi(t.nodeType===8?t.parentNode:t),new Tu(e)};st.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=hd(e),t=t===null?null:t.stateNode,t};st.flushSync=function(t){return zn(t)};st.hydrate=function(t,e,n){if(!ho(e))throw Error(N(200));return po(null,t,e,!0,n)};st.hydrateRoot=function(t,e,n){if(!Du(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wh(e,null,t,1,n??null,i,!1,s,o),t[Ht]=e.current,wi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fo(e)};st.render=function(t,e,n){if(!ho(e))throw Error(N(200));return po(null,t,e,!1,n)};st.unmountComponentAtNode=function(t){if(!ho(t))throw Error(N(40));return t._reactRootContainer?(zn(function(){po(null,null,t,!1,function(){t._reactRootContainer=null,t[Ht]=null})}),!0):!1};st.unstable_batchedUpdates=_u;st.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ho(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return po(t,e,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(t){console.error(t)}}Vh(),Vf.exports=st;var gm=Vf.exports,nf=gm;Tl.createRoot=nf.createRoot,Tl.hydrateRoot=nf.hydrateRoot;function mm(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function vm(t,e,n,r,i){const s={move:t,variations:i};return e&&(s.suffix=e),n&&(s.nag=n),r!==null&&(s.comment=r),s}function ym(...t){const[e,...n]=t;let r=e;for(const i of n)i!==null&&(r.variations=[i,...i.variations],i.variations=[],r=i);return e}function wm(t,e){if(e.marker&&e.marker.comment){let n=e.root;for(;;){const r=n.variations[0];if(!r){n.comment=e.marker.comment;break}n=r}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function Sm(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Fn(t,e,n,r){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Fn.prototype),i.expected=e,i.found=n,i.location=r,i.name="SyntaxError",i}Sm(Fn,Error);function dl(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}Fn.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){n=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,o=this.location.source+":"+s.line+":"+s.column;if(n){var l=this.location.end,a=dl("",s.line.toString().length," "),u=n[i.line-1],f=i.line===l.line?l.column:u.length+1,p=f-i.column||1;e+=`
 --> `+o+`
`+a+` |
`+s.line+" | "+u+`
`+a+" | "+dl("",i.column-1," ")+dl("",p,"^")}else e+=`
 at `+o}return e};Fn.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var f=u.parts.map(function(p){return Array.isArray(p)?s(p[0])+"-"+s(p[1]):s(p)});return"["+(u.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+r(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+r(f)})}function s(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+r(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+r(f)})}function o(u){return n[u.type](u)}function l(u){var f=u.map(o),p,c;if(f.sort(),f.length>0){for(p=1,c=1;p<f.length;p++)f[p-1]!==f[p]&&(f[c]=f[p],c++);f.length=c}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function a(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+l(t)+" but "+a(e)+" found."};function _m(t,e){e=e!==void 0?e:{};var n={},r=e.grammarSource,i={pgn:Uu},s=Uu,o="[",l='"',a="]",u=".",f="O-O-O",p="O-O",c="0-0-0",y="0-0",v="$",w="{",T="}",g=";",h="(",m=")",E="1-0",R="0-1",x="1/2-1/2",P="*",L=/^[a-zA-Z]/,H=/^[^"]/,A=/^[0-9]/,J=/^[.]/,re=/^[a-zA-Z1-8\-=]/,I=/^[+#]/,X=/^[!?]/,le=/^[^}]/,ge=/^[^\r\n]/,Ee=/^[ \t\r\n]/,j=Ke("tag pair"),B=Q("[",!1),U=Q('"',!1),ne=Q("]",!1),ae=Ke("tag name"),lt=Se([["a","z"],["A","Z"]],!1,!1),ze=Ke("tag value"),Tt=Se(['"'],!0,!1),Fe=Ke("move number"),W=Se([["0","9"]],!1,!1),yt=Q(".",!1),Mt=Se(["."],!1,!1),kn=Ke("standard algebraic notation"),Re=Q("O-O-O",!1),Ve=Q("O-O",!1),qn=Q("0-0-0",!1),ko=Q("0-0",!1),Vn=Se([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Qt=Se(["+","#"],!1,!1),Eo=Ke("suffix annotation"),Kn=Se(["!","?"],!1,!1),xo=Ke("NAG"),bi=Q("$",!1),Oo=Ke("brace comment"),Pr=Q("{",!1),Lr=Se(["}"],!0,!1),Rr=Q("}",!1),Dt=Ke("rest of line comment"),Ir=Q(";",!1),En=Se(["\r",`
`],!0,!1),To=Ke("variation"),Do=Q("(",!1),No=Q(")",!1),Qn=Ke("game termination marker"),Gn=Q("1-0",!1),Yn=Q("0-1",!1),Xn=Q("1/2-1/2",!1),Po=Q("*",!1),Lo=Ke("whitespace"),Mi=Se([" ","	","\r",`
`],!1,!1),Ro=function(S,C){return wm(S,C)},jr=function(S){return Object.fromEntries(S)},Io=function(S,C){return[S,C]},jo=function(S,C){return{root:S,marker:C}},bo=function(S,C){return ym(mm(S),...C.flat())},Mo=function(S,C,k,$,z){return vm(S,C,k,$,z)},br=function(S){return S},Ao=function(S){return S.replace(/[\r\n]+/g," ")},Jn=function(S){return S.trim()},Mr=function(S){return S},$o=function(S,C){return{result:S,comment:C}},_=e.peg$currPos|0,Gt=[{line:1,column:1}],Ze=_,Z=e.peg$maxFailExpected||[],D=e.peg$silentFails|0,xe;if(e.startRule){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=i[e.startRule]}function Q(S,C){return{type:"literal",text:S,ignoreCase:C}}function Se(S,C,k){return{type:"class",parts:S,inverted:C,ignoreCase:k}}function et(){return{type:"end"}}function Ke(S){return{type:"other",description:S}}function Fu(S){var C=Gt[S],k;if(C)return C;if(S>=Gt.length)k=Gt.length-1;else for(k=S;!Gt[--k];);for(C=Gt[k],C={line:C.line,column:C.column};k<S;)t.charCodeAt(k)===10?(C.line++,C.column=1):C.column++,k++;return Gt[S]=C,C}function Bu(S,C,k){var $=Fu(S),z=Fu(C),ee={source:r,start:{offset:S,line:$.line,column:$.column},end:{offset:C,line:z.line,column:z.column}};return ee}function M(S){_<Ze||(_>Ze&&(Ze=_,Z=[]),Z.push(S))}function Np(S,C,k){return new Fn(Fn.buildMessage(S,C),S,C,k)}function Uu(){var S,C,k;return S=_,C=Pp(),k=Ip(),S=Ro(C,k),S}function Pp(){var S,C,k;for(S=_,C=[],k=Hu();k!==n;)C.push(k),k=Hu();return k=Be(),S=jr(C),S}function Hu(){var S,C,k,$,z,ee,xn;return D++,S=_,Be(),t.charCodeAt(_)===91?(C=o,_++):(C=n,D===0&&M(B)),C!==n?(Be(),k=Lp(),k!==n?(Be(),t.charCodeAt(_)===34?($=l,_++):($=n,D===0&&M(U)),$!==n?(z=Rp(),t.charCodeAt(_)===34?(ee=l,_++):(ee=n,D===0&&M(U)),ee!==n?(Be(),t.charCodeAt(_)===93?(xn=a,_++):(xn=n,D===0&&M(ne)),xn!==n?S=Io(k,z):(_=S,S=n)):(_=S,S=n)):(_=S,S=n)):(_=S,S=n)):(_=S,S=n),D--,S===n&&D===0&&M(j),S}function Lp(){var S,C,k;if(D++,S=_,C=[],k=t.charAt(_),L.test(k)?_++:(k=n,D===0&&M(lt)),k!==n)for(;k!==n;)C.push(k),k=t.charAt(_),L.test(k)?_++:(k=n,D===0&&M(lt));else C=n;return C!==n?S=t.substring(S,_):S=C,D--,S===n&&(C=n,D===0&&M(ae)),S}function Rp(){var S,C,k;for(D++,S=_,C=[],k=t.charAt(_),H.test(k)?_++:(k=n,D===0&&M(Tt));k!==n;)C.push(k),k=t.charAt(_),H.test(k)?_++:(k=n,D===0&&M(Tt));return S=t.substring(S,_),D--,C=n,D===0&&M(ze),S}function Ip(){var S,C,k;return S=_,C=Wu(),Be(),k=zp(),k===n&&(k=null),Be(),S=jo(C,k),S}function Wu(){var S,C,k,$;for(S=_,C=zo(),C===n&&(C=null),k=[],$=qu();$!==n;)k.push($),$=qu();return S=bo(C,k),S}function qu(){var S,C,k,$,z,ee,xn,Ai;if(S=_,Be(),jp(),Be(),C=bp(),C!==n){for(k=Mp(),k===n&&(k=null),$=[],z=Vu();z!==n;)$.push(z),z=Vu();for(z=Be(),ee=zo(),ee===n&&(ee=null),xn=[],Ai=Ku();Ai!==n;)xn.push(Ai),Ai=Ku();S=Mo(C,k,$,ee,xn)}else _=S,S=n;return S}function jp(){var S,C,k,$,z,ee;for(D++,S=_,C=[],k=t.charAt(_),A.test(k)?_++:(k=n,D===0&&M(W));k!==n;)C.push(k),k=t.charAt(_),A.test(k)?_++:(k=n,D===0&&M(W));if(t.charCodeAt(_)===46?(k=u,_++):(k=n,D===0&&M(yt)),k!==n){for($=Be(),z=[],ee=t.charAt(_),J.test(ee)?_++:(ee=n,D===0&&M(Mt));ee!==n;)z.push(ee),ee=t.charAt(_),J.test(ee)?_++:(ee=n,D===0&&M(Mt));C=[C,k,$,z],S=C}else _=S,S=n;return D--,S===n&&(C=n,D===0&&M(Fe)),S}function bp(){var S,C,k,$,z,ee;if(D++,S=_,C=_,t.substr(_,5)===f?(k=f,_+=5):(k=n,D===0&&M(Re)),k===n&&(t.substr(_,3)===p?(k=p,_+=3):(k=n,D===0&&M(Ve)),k===n&&(t.substr(_,5)===c?(k=c,_+=5):(k=n,D===0&&M(qn)),k===n&&(t.substr(_,3)===y?(k=y,_+=3):(k=n,D===0&&M(ko)),k===n))))if(k=_,$=t.charAt(_),L.test($)?_++:($=n,D===0&&M(lt)),$!==n){if(z=[],ee=t.charAt(_),re.test(ee)?_++:(ee=n,D===0&&M(Vn)),ee!==n)for(;ee!==n;)z.push(ee),ee=t.charAt(_),re.test(ee)?_++:(ee=n,D===0&&M(Vn));else z=n;z!==n?($=[$,z],k=$):(_=k,k=n)}else _=k,k=n;return k!==n?($=t.charAt(_),I.test($)?_++:($=n,D===0&&M(Qt)),$===n&&($=null),k=[k,$],C=k):(_=C,C=n),C!==n?S=t.substring(S,_):S=C,D--,S===n&&(C=n,D===0&&M(kn)),S}function Mp(){var S,C,k;for(D++,S=_,C=[],k=t.charAt(_),X.test(k)?_++:(k=n,D===0&&M(Kn));k!==n;)C.push(k),C.length>=2?k=n:(k=t.charAt(_),X.test(k)?_++:(k=n,D===0&&M(Kn)));return C.length<1?(_=S,S=n):S=C,D--,S===n&&(C=n,D===0&&M(Eo)),S}function Vu(){var S,C,k,$,z;if(D++,S=_,Be(),t.charCodeAt(_)===36?(C=v,_++):(C=n,D===0&&M(bi)),C!==n){if(k=_,$=[],z=t.charAt(_),A.test(z)?_++:(z=n,D===0&&M(W)),z!==n)for(;z!==n;)$.push(z),z=t.charAt(_),A.test(z)?_++:(z=n,D===0&&M(W));else $=n;$!==n?k=t.substring(k,_):k=$,k!==n?S=br(k):(_=S,S=n)}else _=S,S=n;return D--,S===n&&D===0&&M(xo),S}function zo(){var S;return S=Ap(),S===n&&(S=$p()),S}function Ap(){var S,C,k,$,z;if(D++,S=_,t.charCodeAt(_)===123?(C=w,_++):(C=n,D===0&&M(Pr)),C!==n){for(k=_,$=[],z=t.charAt(_),le.test(z)?_++:(z=n,D===0&&M(Lr));z!==n;)$.push(z),z=t.charAt(_),le.test(z)?_++:(z=n,D===0&&M(Lr));k=t.substring(k,_),t.charCodeAt(_)===125?($=T,_++):($=n,D===0&&M(Rr)),$!==n?S=Ao(k):(_=S,S=n)}else _=S,S=n;return D--,S===n&&(C=n,D===0&&M(Oo)),S}function $p(){var S,C,k,$,z;if(D++,S=_,t.charCodeAt(_)===59?(C=g,_++):(C=n,D===0&&M(Ir)),C!==n){for(k=_,$=[],z=t.charAt(_),ge.test(z)?_++:(z=n,D===0&&M(En));z!==n;)$.push(z),z=t.charAt(_),ge.test(z)?_++:(z=n,D===0&&M(En));k=t.substring(k,_),S=Jn(k)}else _=S,S=n;return D--,S===n&&(C=n,D===0&&M(Dt)),S}function Ku(){var S,C,k,$;return D++,S=_,Be(),t.charCodeAt(_)===40?(C=h,_++):(C=n,D===0&&M(Do)),C!==n?(k=Wu(),k!==n?(Be(),t.charCodeAt(_)===41?($=m,_++):($=n,D===0&&M(No)),$!==n?S=Mr(k):(_=S,S=n)):(_=S,S=n)):(_=S,S=n),D--,S===n&&D===0&&M(To),S}function zp(){var S,C,k;return D++,S=_,t.substr(_,3)===E?(C=E,_+=3):(C=n,D===0&&M(Gn)),C===n&&(t.substr(_,3)===R?(C=R,_+=3):(C=n,D===0&&M(Yn)),C===n&&(t.substr(_,7)===x?(C=x,_+=7):(C=n,D===0&&M(Xn)),C===n&&(t.charCodeAt(_)===42?(C=P,_++):(C=n,D===0&&M(Po))))),C!==n?(Be(),k=zo(),k===n&&(k=null),S=$o(C,k)):(_=S,S=n),D--,S===n&&(C=n,D===0&&M(Qn)),S}function Be(){var S,C;for(D++,S=[],C=t.charAt(_),Ee.test(C)?_++:(C=n,D===0&&M(Mi));C!==n;)S.push(C),C=t.charAt(_),Ee.test(C)?_++:(C=n,D===0&&M(Mi));return D--,C=n,D===0&&M(Lo),S}if(xe=s(),e.peg$library)return{peg$result:xe,peg$currPos:_,peg$FAILED:n,peg$maxFailExpected:Z,peg$maxFailPos:Ze};if(xe!==n&&_===t.length)return xe;throw xe!==n&&_<t.length&&M(et()),Np(Z,Ze<t.length?t.charAt(Ze):null,Ze<t.length?Bu(Ze,Ze+1):Bu(Ze,Ze))}var Cm={StartRules:["pgn"],SyntaxError:Fn,parse:_m};/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ws=0xffffffffffffffffn;function hl(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function rf(t,e){return t*e&ws}function km(t){return function(){let e=BigInt(t&ws),n=BigInt(t>>64n&ws);const r=rf(hl(rf(e,5n),7n),9n);return n^=e,e=(hl(e,24n)^n^n<<16n)&ws,n=hl(n,37n),t=n<<64n|e,r}}const go=km(0xa187eb39cdcaed8f31c4b365b102e01en),Em=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>go()))),xm=Array.from({length:8},()=>go()),Om=Array.from({length:16},()=>go()),pl=go(),Me="w",ut="b",ve="p",Sa="n",Ss="b",Jr="r",tn="q",_e="k",gl="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class ts{constructor(e,n){ue(this,"color");ue(this,"from");ue(this,"to");ue(this,"piece");ue(this,"captured");ue(this,"promotion");ue(this,"flags");ue(this,"san");ue(this,"lan");ue(this,"before");ue(this,"after");const{color:r,piece:i,from:s,to:o,flags:l,captured:a,promotion:u}=n,f=Oe(s),p=Oe(o);this.color=r,this.piece=i,this.from=f,this.to=p,this.san=e._moveToSan(n,e._moves({legal:!0})),this.lan=f+p,this.before=e.fen(),e._makeMove(n),this.after=e.fen(),e._undoMove(),this.flags="";for(const c in V)V[c]&l&&(this.flags+=On[c]);a&&(this.captured=a),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(On.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(On.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(On.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(On.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(On.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(On.BIG_PAWN)>-1}}const be=-1,On={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},V={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},_a={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},Tm={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Dm={..._a,...Tm},F={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},ml={b:[16,32,17,15],w:[-16,-32,-17,-15]},sf={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Nm=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Pm=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Lm={p:1,n:2,b:4,r:8,q:16,k:32},Rm="pnbrqkPNBRQK",of=[Sa,Ss,Jr,tn],Im=7,jm=6,bm=1,Mm=0,ns={[_e]:V.KSIDE_CASTLE,[tn]:V.QSIDE_CASTLE},Xt={w:[{square:F.a1,flag:V.QSIDE_CASTLE},{square:F.h1,flag:V.KSIDE_CASTLE}],b:[{square:F.a8,flag:V.QSIDE_CASTLE},{square:F.h8,flag:V.KSIDE_CASTLE}]},Am={b:bm,w:jm};function jn(t){return t>>4}function Di(t){return t&15}function Kh(t){return"0123456789".indexOf(t)!==-1}function Oe(t){const e=Di(t),n=jn(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(n,n+1)}function qr(t){return t===Me?ut:Me}function $m(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(e[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(e[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=e[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<i.length;o++){let l=0,a=!1;for(let u=0;u<i[o].length;u++)if(Kh(i[o][u])){if(a)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(i[o][u],10),a=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,a=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const s=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:l}of s){if(!l.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(i[0]+i[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function zm(t,e){const n=t.from,r=t.to,i=t.piece;let s=0,o=0,l=0;for(let a=0,u=e.length;a<u;a++){const f=e[a].from,p=e[a].to,c=e[a].piece;i===c&&n!==f&&r===p&&(s++,jn(n)===jn(f)&&o++,Di(n)===Di(f)&&l++)}return s>0?o>0&&l>0?Oe(n):l>0?Oe(n).charAt(1):Oe(n).charAt(0):""}function Jt(t,e,n,r,i,s=void 0,o=V.NORMAL){const l=jn(r);if(i===ve&&(l===Im||l===Mm))for(let a=0;a<of.length;a++){const u=of[a];t.push({color:e,from:n,to:r,piece:i,captured:s,promotion:u,flags:o|V.PROMOTION})}else t.push({color:e,from:n,to:r,piece:i,captured:s,flags:o})}function lf(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:ve:(e=e.toLowerCase(),e==="o"?_e:e)}function vl(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class nn{constructor(e=gl,{skipValidation:n=!1}={}){ue(this,"_board",new Array(128));ue(this,"_turn",Me);ue(this,"_header",{});ue(this,"_kings",{w:be,b:be});ue(this,"_epSquare",-1);ue(this,"_halfMoves",0);ue(this,"_moveNumber",0);ue(this,"_history",[]);ue(this,"_comments",{});ue(this,"_castling",{w:0,b:0});ue(this,"_hash",0n);ue(this,"_positionCount",new Map);this.load(e,{skipValidation:n})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:be,b:be},this._turn=Me,this._castling={w:0,b:0},this._epSquare=be,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...Dm},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:n=!1,preserveHeaders:r=!1}={}){let i=e.split(/\s+/);if(i.length>=2&&i.length<6){const l=["-","-","0","1"];e=i.concat(l.slice(-(6-i.length))).join(" ")}if(i=e.split(/\s+/),!n){const{ok:l,error:a}=$m(e);if(!l)throw new Error(a)}const s=i[0];let o=0;this.clear({preserveHeaders:r});for(let l=0;l<s.length;l++){const a=s.charAt(l);if(a==="/")o+=8;else if(Kh(a))o+=parseInt(a,10);else{const u=a<"a"?Me:ut;this._put({type:a.toLowerCase(),color:u},Oe(o)),o++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=V.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=V.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=V.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=V.QSIDE_CASTLE),this._epSquare=i[3]==="-"?be:F[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var o,l;let n=0,r="";for(let a=F.a8;a<=F.h1;a++){if(this._board[a]){n>0&&(r+=n,n=0);const{color:u,type:f}=this._board[a];r+=u===Me?f.toUpperCase():f.toLowerCase()}else n++;a+1&136&&(n>0&&(r+=n),a!==F.h1&&(r+="/"),n=0,a+=8)}let i="";this._castling[Me]&V.KSIDE_CASTLE&&(i+="K"),this._castling[Me]&V.QSIDE_CASTLE&&(i+="Q"),this._castling[ut]&V.KSIDE_CASTLE&&(i+="k"),this._castling[ut]&V.QSIDE_CASTLE&&(i+="q"),i=i||"-";let s="-";if(this._epSquare!==be)if(e)s=Oe(this._epSquare);else{const a=this._epSquare+(this._turn===Me?16:-16),u=[a+1,a-1];for(const f of u){if(f&136)continue;const p=this._turn;if(((o=this._board[f])==null?void 0:o.color)===p&&((l=this._board[f])==null?void 0:l.type)===ve){this._makeMove({color:p,from:f,to:this._epSquare,piece:ve,captured:ve,flags:V.EP_CAPTURE});const c=!this._isKingAttacked(p);if(this._undoMove(),c){s=Oe(this._epSquare);break}}}}return[r,this._turn,i,s,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:n,type:r}=this._board[e],i={w:0,b:1}[n],s={p:0,n:1,b:2,r:3,q:4,k:5}[r];return Em[i][s][e]}_epKey(){return this._epSquare===be?0n:xm[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return Om[e]}_computeHash(){let e=0n;for(let n=F.a8;n<=F.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(e^=this._pieceKey(n))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=pl),e}_updateSetup(e){this._history.length>0||(e!==gl?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(gl)}get(e){return this._board[F[e]]}findPiece(e){var r;const n=[];for(let i=F.a8;i<=F.h1;i++){if(i&136){i+=7;continue}!this._board[i]||((r=this._board[i])==null?void 0:r.color)!==e.color||this._board[i].color===e.color&&this._board[i].type===e.type&&n.push(Oe(i))}return n}put({type:e,color:n},r){return this._put({type:e,color:n},r)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,n){this._hash^=this._pieceKey(e),this._board[e]=n,this._hash^=this._pieceKey(e)}_put({type:e,color:n},r){if(Rm.indexOf(e.toLowerCase())===-1||!(r in F))return!1;const i=F[r];if(e==_e&&!(this._kings[n]==be||this._kings[n]==i))return!1;const s=this._board[i];return s&&s.type===_e&&(this._kings[s.color]=be),this._set(i,{type:e,color:n}),e===_e&&(this._kings[n]=i),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const n=this.get(e);return this._clear(F[e]),n&&n.type===_e&&(this._kings[n.color]=be),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var r,i,s,o,l,a,u,f,p,c,y,v;this._hash^=this._castlingKey();const e=((r=this._board[F.e1])==null?void 0:r.type)===_e&&((i=this._board[F.e1])==null?void 0:i.color)===Me,n=((s=this._board[F.e8])==null?void 0:s.type)===_e&&((o=this._board[F.e8])==null?void 0:o.color)===ut;(!e||((l=this._board[F.a1])==null?void 0:l.type)!==Jr||((a=this._board[F.a1])==null?void 0:a.color)!==Me)&&(this._castling.w&=-65),(!e||((u=this._board[F.h1])==null?void 0:u.type)!==Jr||((f=this._board[F.h1])==null?void 0:f.color)!==Me)&&(this._castling.w&=-33),(!n||((p=this._board[F.a8])==null?void 0:p.type)!==Jr||((c=this._board[F.a8])==null?void 0:c.color)!==ut)&&(this._castling.b&=-65),(!n||((y=this._board[F.h8])==null?void 0:y.type)!==Jr||((v=this._board[F.h8])==null?void 0:v.color)!==ut)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var s,o;if(this._epSquare===be)return;const e=this._epSquare+(this._turn===Me?-16:16),n=this._epSquare+(this._turn===Me?16:-16),r=[n+1,n-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((s=this._board[n])==null?void 0:s.color)!==qr(this._turn)||((o=this._board[n])==null?void 0:o.type)!==ve){this._hash^=this._epKey(),this._epSquare=be;return}const i=l=>{var a,u;return!(l&136)&&((a=this._board[l])==null?void 0:a.color)===this._turn&&((u=this._board[l])==null?void 0:u.type)===ve};r.some(i)||(this._hash^=this._epKey(),this._epSquare=be)}_attacked(e,n,r){const i=[];for(let s=F.a8;s<=F.h1;s++){if(s&136){s+=7;continue}if(this._board[s]===void 0||this._board[s].color!==e)continue;const o=this._board[s],l=s-n;if(l===0)continue;const a=l+119;if(Nm[a]&Lm[o.type]){if(o.type===ve){if(l>0&&o.color===Me||l<=0&&o.color===ut)if(r)i.push(Oe(s));else return!0;continue}if(o.type==="n"||o.type==="k")if(r){i.push(Oe(s));continue}else return!0;const u=Pm[a];let f=s+u,p=!1;for(;f!==n;){if(this._board[f]!=null){p=!0;break}f+=u}if(!p)if(r){i.push(Oe(s));continue}else return!0}}return r?i:!1}attackers(e,n){return n?this._attacked(n,F[e],!0):this._attacked(this._turn,F[e],!0)}_isKingAttacked(e){const n=this._kings[e];return n===-1?!1:this._attacked(qr(e),n)}hash(){return this._hash.toString(16)}isAttacked(e,n){return this._attacked(n,F[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let r=0,i=0;for(let s=F.a8;s<=F.h1;s++){if(i=(i+1)%2,s&136){s+=7;continue}const o=this._board[s];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===Ss&&n.push(i),r++)}if(r===2)return!0;if(r===3&&(e[Ss]===1||e[Sa]===1))return!0;if(r===e[Ss]+2){let s=0;const o=n.length;for(let l=0;l<o;l++)s+=n[l];if(s===0||s===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:n=void 0,piece:r=void 0}={}){const i=this._moves({square:n,piece:r});return e?i.map(s=>new ts(this,s)):i.map(s=>this._moveToSan(s,i))}_moves({legal:e=!0,piece:n=void 0,square:r=void 0}={}){var y;const i=r?r.toLowerCase():void 0,s=n==null?void 0:n.toLowerCase(),o=[],l=this._turn,a=qr(l);let u=F.a8,f=F.h1,p=!1;if(i)if(i in F)u=f=F[i],p=!0;else return[];for(let v=u;v<=f;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===a)continue;const{type:w}=this._board[v];let T;if(w===ve){if(s&&s!==w)continue;T=v+ml[l][0],this._board[T]||(Jt(o,l,v,T,ve),T=v+ml[l][1],Am[l]===jn(v)&&!this._board[T]&&Jt(o,l,v,T,ve,void 0,V.BIG_PAWN));for(let g=2;g<4;g++)T=v+ml[l][g],!(T&136)&&(((y=this._board[T])==null?void 0:y.color)===a?Jt(o,l,v,T,ve,this._board[T].type,V.CAPTURE):T===this._epSquare&&Jt(o,l,v,T,ve,ve,V.EP_CAPTURE))}else{if(s&&s!==w)continue;for(let g=0,h=sf[w].length;g<h;g++){const m=sf[w][g];for(T=v;T+=m,!(T&136);){if(!this._board[T])Jt(o,l,v,T,w);else{if(this._board[T].color===l)break;Jt(o,l,v,T,w,this._board[T].type,V.CAPTURE);break}if(w===Sa||w===_e)break}}}}if((s===void 0||s===_e)&&(!p||f===this._kings[l])){if(this._castling[l]&V.KSIDE_CASTLE){const v=this._kings[l],w=v+2;!this._board[v+1]&&!this._board[w]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,v+1)&&!this._attacked(a,w)&&Jt(o,l,this._kings[l],w,_e,void 0,V.KSIDE_CASTLE)}if(this._castling[l]&V.QSIDE_CASTLE){const v=this._kings[l],w=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,v-1)&&!this._attacked(a,w)&&Jt(o,l,this._kings[l],w,_e,void 0,V.QSIDE_CASTLE)}}if(!e||this._kings[l]===-1)return o;const c=[];for(let v=0,w=o.length;v<w;v++)this._makeMove(o[v]),this._isKingAttacked(l)||c.push(o[v]),this._undoMove();return c}move(e,{strict:n=!1}={}){let r=null;if(typeof e=="string")r=this._moveFromSan(e,n);else if(typeof e=="object"){const s=this._moves();for(let o=0,l=s.length;o<l;o++)if(e.from===Oe(s[o].from)&&e.to===Oe(s[o].to)&&(!("promotion"in s[o])||e.promotion===s[o].promotion)){r=s[o];break}}if(!r)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const i=new ts(this,r);return this._makeMove(r),this._incPositionCount(),i}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,n){this._hash^=this._pieceKey(e),this._board[n]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(n)}_makeMove(e){var i,s,o,l;const n=this._turn,r=qr(n);if(this._push(e),this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&V.EP_CAPTURE&&(this._turn===ut?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:n})),this._board[e.to].type===_e){if(this._kings[n]=e.to,e.flags&V.KSIDE_CASTLE){const a=e.to-1,u=e.to+1;this._movePiece(u,a)}else if(e.flags&V.QSIDE_CASTLE){const a=e.to+1,u=e.to-2;this._movePiece(u,a)}this._castling[n]=0}if(this._castling[n]){for(let a=0,u=Xt[n].length;a<u;a++)if(e.from===Xt[n][a].square&&this._castling[n]&Xt[n][a].flag){this._castling[n]^=Xt[n][a].flag;break}}if(this._castling[r]){for(let a=0,u=Xt[r].length;a<u;a++)if(e.to===Xt[r][a].square&&this._castling[r]&Xt[r][a].flag){this._castling[r]^=Xt[r][a].flag;break}}if(this._hash^=this._castlingKey(),e.flags&V.BIG_PAWN){let a;n===ut?a=e.to-16:a=e.to+16,!(e.to-1&136)&&((i=this._board[e.to-1])==null?void 0:i.type)===ve&&((s=this._board[e.to-1])==null?void 0:s.color)===r||!(e.to+1&136)&&((o=this._board[e.to+1])==null?void 0:o.type)===ve&&((l=this._board[e.to+1])==null?void 0:l.color)===r?(this._epSquare=a,this._hash^=this._epKey()):this._epSquare=be}else this._epSquare=be;e.piece===ve?this._halfMoves=0:e.flags&(V.CAPTURE|V.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===ut&&this._moveNumber++,this._turn=r,this._hash^=pl}undo(){const e=this._hash,n=this._undoMove();if(n){const r=new ts(this,n);return this._decPositionCount(e),r}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=pl;const r=this._turn,i=qr(r);if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:r})),n.captured)if(n.flags&V.EP_CAPTURE){let s;r===ut?s=n.to-16:s=n.to+16,this._set(s,{type:ve,color:i})}else this._set(n.to,{type:n.captured,color:i});if(n.flags&(V.KSIDE_CASTLE|V.QSIDE_CASTLE)){let s,o;n.flags&V.KSIDE_CASTLE?(s=n.to+1,o=n.to-1):(s=n.to-2,o=n.to+1),this._movePiece(o,s)}return n}pgn({newline:e=`
`,maxWidth:n=0}={}){const r=[];let i=!1;for(const c in this._header)this._header[c]&&r.push(`[${c} "${this._header[c]}"]`+e),i=!0;i&&this._history.length&&r.push(e);const s=c=>{const y=this._comments[this.fen()];if(typeof y<"u"){const v=c.length>0?" ":"";c=`${c}${v}{${y}}`}return c},o=[];for(;this._history.length>0;)o.push(this._undoMove());const l=[];let a="";for(o.length===0&&l.push(s(""));o.length>0;){a=s(a);const c=o.pop();if(!c)break;if(!this._history.length&&c.color==="b"){const y=`${this._moveNumber}. ...`;a=a?`${a} ${y}`:y}else c.color==="w"&&(a.length&&l.push(a),a=this._moveNumber+".");a=a+" "+this._moveToSan(c,this._moves({legal:!0})),this._makeMove(c)}if(a.length&&l.push(s(a)),l.push(this._header.Result||"*"),n===0)return r.join("")+l.join(" ");const u=function(){return r.length>0&&r[r.length-1]===" "?(r.pop(),!0):!1},f=function(c,y){for(const v of y.split(" "))if(v){if(c+v.length>n){for(;u();)c--;r.push(e),c=0}r.push(v),c+=v.length,r.push(" "),c++}return u()&&c--,c};let p=0;for(let c=0;c<l.length;c++){if(p+l[c].length>n&&l[c].includes("{")){p=f(p,l[c]);continue}p+l[c].length>n&&c!==0?(r[r.length-1]===" "&&r.pop(),r.push(e),p=0):c!==0&&(r.push(" "),p++),r.push(l[c]),p+=l[c].length}return r.join("")}header(...e){for(let n=0;n<e.length;n+=2)typeof e[n]=="string"&&typeof e[n+1]=="string"&&(this._header[e[n]]=e[n+1]);return this._header}setHeader(e,n){return this._header[e]=n??_a[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=_a[e]||null,!0):!1}getHeaders(){const e={};for(const[n,r]of Object.entries(this._header))r!==null&&(e[n]=r);return e}loadPgn(e,{strict:n=!1,newlineChar:r=`\r?
`}={}){r!==`\r?
`&&(e=e.replace(new RegExp(r,"g"),`
`));const i=Cm.parse(e);this.reset();const s=i.headers;let o="";for(const u in s)u.toLowerCase()==="fen"&&(o=s[u]),this.header(u,s[u]);if(!n)o&&this.load(o,{preserveHeaders:!0});else if(s.SetUp==="1"){if(!("FEN"in s))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(s.FEN,{preserveHeaders:!0})}let l=i.root;for(;l;){if(l.move){const u=this._moveFromSan(l.move,n);if(u==null)throw new Error(`Invalid move in PGN: ${l.move}`);this._makeMove(u),this._incPositionCount()}l.comment!==void 0&&(this._comments[this.fen()]=l.comment),l=l.variations[0]}const a=i.result;a&&Object.keys(this._header).length&&this._header.Result!==a&&this.setHeader("Result",a)}_moveToSan(e,n){let r="";if(e.flags&V.KSIDE_CASTLE)r="O-O";else if(e.flags&V.QSIDE_CASTLE)r="O-O-O";else{if(e.piece!==ve){const i=zm(e,n);r+=e.piece.toUpperCase()+i}e.flags&(V.CAPTURE|V.EP_CAPTURE)&&(e.piece===ve&&(r+=Oe(e.from)[0]),r+="x"),r+=Oe(e.to),e.promotion&&(r+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(e,n=!1){let r=vl(e);n||(r==="0-0"?r="O-O":r==="0-0-0"&&(r="O-O-O"));let i=lf(r),s=this._moves({legal:!0,piece:i});for(let c=0,y=s.length;c<y;c++)if(r===vl(this._moveToSan(s[c],s)))return s[c];if(n)return null;let o,l,a,u,f,p=!1;if(l=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(o=l[1],a=l[2],u=l[3],f=l[4],a.length==1&&(p=!0)):(l=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(o=l[1],a=l[2],u=l[3],f=l[4],a.length==1&&(p=!0))),i=lf(r),s=this._moves({legal:!0,piece:o||i}),!u)return null;for(let c=0,y=s.length;c<y;c++)if(a){if((!o||o.toLowerCase()==s[c].piece)&&F[a]==s[c].from&&F[u]==s[c].to&&(!f||f.toLowerCase()==s[c].promotion))return s[c];if(p){const v=Oe(s[c].from);if((!o||o.toLowerCase()==s[c].piece)&&F[u]==s[c].to&&(a==v[0]||a==v[1])&&(!f||f.toLowerCase()==s[c].promotion))return s[c]}}else if(r===vl(this._moveToSan(s[c],s)).replace("x",""))return s[c];return null}ascii(){let e=`   +------------------------+
`;for(let n=F.a8;n<=F.h1;n++){if(Di(n)===0&&(e+=" "+"87654321"[jn(n)]+" |"),this._board[n]){const r=this._board[n].type,s=this._board[n].color===Me?r.toUpperCase():r.toLowerCase();e+=" "+s+" "}else e+=" . ";n+1&136&&(e+=`|
`,n+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const n=this._moves({legal:!1});let r=0;const i=this._turn;for(let s=0,o=n.length;s<o;s++)this._makeMove(n[s]),this._isKingAttacked(i)||(e-1>0?r+=this.perft(e-1):r++),this._undoMove();return r}turn(){return this._turn}board(){const e=[];let n=[];for(let r=F.a8;r<=F.h1;r++)this._board[r]==null?n.push(null):n.push({square:Oe(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(e.push(n),n=[],r+=8);return e}squareColor(e){if(e in F){const n=F[e];return(jn(n)+Di(n))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const n=[],r=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const i=n.pop();if(!i)break;e?r.push(new ts(this,i)):r.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return r}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const n=this._positionCount.get(e)??0;n===1?this._positionCount.delete(e):this._positionCount.set(e,n-1)}_pruneComments(){const e=[],n={},r=i=>{i in this._comments&&(n[i]=this._comments[i])};for(;this._history.length>0;)e.push(this._undoMove());for(r(this.fen());;){const i=e.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const n=this._comments[e];return delete this._comments[e],{fen:e,comment:n}})}setCastlingRights(e,n){for(const i of[_e,tn])n[i]!==void 0&&(n[i]?this._castling[e]|=ns[i]:this._castling[e]&=~ns[i]);this._updateCastlingRights();const r=this.getCastlingRights(e);return(n[_e]===void 0||n[_e]===r[_e])&&(n[tn]===void 0||n[tn]===r[tn])}getCastlingRights(e){return{[_e]:(this._castling[e]&ns[_e])!==0,[tn]:(this._castling[e]&ns[tn])!==0}}moveNumber(){return this._moveNumber}}function Fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Ni="abcdefgh".split(""),_s={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Bm={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Um={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Hm=[7,6,5,4,3,2,1,0],Wm=[0,1,2,3,4,5,6,7],af={wP:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),d.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),d.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[d.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),d.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),d.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),d.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[d.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),d.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),d.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),d.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),d.jsx("circle",{cx:"6",cy:"12",r:"2"}),d.jsx("circle",{cx:"14",cy:"9",r:"2"}),d.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),d.jsx("circle",{cx:"31",cy:"9",r:"2"}),d.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),d.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),d.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[d.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),d.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),d.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),d.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[d.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),d.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),d.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),d.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),d.jsx("circle",{cx:"6",cy:"12",r:"2"}),d.jsx("circle",{cx:"14",cy:"9",r:"2"}),d.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),d.jsx("circle",{cx:"31",cy:"9",r:"2"}),d.jsx("circle",{cx:"39",cy:"12",r:"2"}),d.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),d.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[d.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),d.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),d.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),d.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:d.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[d.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),d.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),d.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Ca(t,e,n){const r=e/8,i=t==="white"?Bm:Um,s=t==="white"?Hm:Wm,o=i[n[0]]*r+r/2,l=s[parseInt(n[1],10)-1]*r+r/2;return{x:o,y:l}}function uf(t){let e=!1;return Object.keys(_s).forEach(n=>{t[n]!==_s[n]&&(e=!0)}),Object.keys(t).forEach(n=>{_s[n]!==t[n]&&(e=!0)}),e}function qm(t,e){const n={removed:{},added:{}};return Object.keys(t).forEach(r=>{e[r]!==t[r]&&(n.removed[r]=t[r])}),Object.keys(e).forEach(r=>{t[r]!==e[r]&&(n.added[r]=e[r])}),n}function cf(t){return t==="start"?_s:typeof t=="string"?Vm(t):t}function Vm(t){if(!Km(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),n={};let r=8;for(let i=0;i<8;i++){const s=e[i].split("");let o=0;for(let l=0;l<s.length;l++)if(s[l].search(/[1-8]/)!==-1){const a=parseInt(s[l],10);o=o+a}else{const a=Ni[o]+r;n[a]=Gm(s[l]),o=o+1}r=r-1}return n}function Km(t){t=t.replace(/ .+$/,""),t=Qm(t);const e=t.split("/");if(e.length!==8)return!1;for(let n=0;n<8;n++)if(e[n].length!==8||e[n].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function Qm(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Gm(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const Ym=(t,e=!0,n,r)=>{const[i,s]=O.useState([]),[o,l]=O.useState([]),[a,u]=O.useState();O.useEffect(()=>{Array.isArray(t)&&(f(),s(t==null?void 0:t.filter(v=>v[0]!==v[1])))},[t]),O.useEffect(()=>{n==null||n(o)},[o]);function f(){l([]),u(void 0)}const p=(v,w)=>{e&&u([v,w,r])},c=[...o,...i];return{arrows:c,newArrow:a,clearArrows:f,drawNewArrow:p,setArrows:l,onArrowDrawEnd:(v,w)=>{if(v===w||!e)return;let T;const g=[v,w,r];c.every(([m,E])=>!(m===v&&E===w))?T=[...o,g]:T=o.filter(([m,E])=>!(m===v&&E===w)),u(void 0),l(T)}}},Qh=O.createContext({}),Kt=()=>O.useContext(Qh),Xm=O.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:n=!0,arePiecesDraggable:r=!0,arePremovesAllowed:i=!1,autoPromoteToQueen:s=!1,boardOrientation:o="white",boardWidth:l,children:a,clearPremovesOnRightClick:u=!0,customArrows:f,customArrowColor:p="rgb(255,170,0)",customBoardStyle:c,customNotationStyle:y,customDarkSquareStyle:v={backgroundColor:"#B58863"},customDropSquareStyle:w={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:T={backgroundColor:"#F0D9B5"},customPieces:g,customPremoveDarkSquareStyle:h={backgroundColor:"#A42323"},customPremoveLightSquareStyle:m={backgroundColor:"#BD2828"},customSquare:E="div",customSquareStyles:R,dropOffBoardAction:x="snapback",id:P=0,isDraggablePiece:L=()=>!0,getPositionObject:H=()=>{},onArrowsChange:A=()=>{},onDragOverSquare:J=()=>{},onMouseOutSquare:re=()=>{},onMouseOverSquare:I=()=>{},onPieceClick:X=()=>{},onPieceDragBegin:le=()=>{},onPieceDragEnd:ge=()=>{},onPieceDrop:Ee=()=>!0,onPieceDropOffBoard:j=()=>{},onPromotionCheck:B=(Re,Ve,qn)=>(qn==="wP"&&Re[1]==="7"&&Ve[1]==="8"||qn==="bP"&&Re[1]==="2"&&Ve[1]==="1")&&Math.abs(Re.charCodeAt(0)-Ve.charCodeAt(0))<=1,onPromotionPieceSelect:U=()=>!0,onSparePieceDrop:ne=()=>!0,onSquareClick:ae=()=>{},onSquareRightClick:lt=()=>{},position:ze="start",promotionDialogVariant:Tt="default",promotionToSquare:Fe=null,showBoardNotation:W=!0,showPromotionDialog:yt=!1,snapToCursor:Mt=!0},kn)=>{const[Re,Ve]=O.useState(cf(ze)),[qn,ko]=O.useState({removed:{},added:{}}),[Vn,Qt]=O.useState(void 0),[Eo,Kn]=O.useState(yt&&!s),[xo,bi]=O.useState(null),[Oo,Pr]=O.useState(Fe),[Lr,Rr]=O.useState([]),Dt=O.useRef(Lr),[Ir,En]=O.useState(),[To,Do]=O.useState(Object.assign(Object.assign({},af),g)),[No,Qn]=O.useState(!1),Gn=O.useRef(),[Yn,Xn]=O.useState(!1),[Po,Lo]=O.useState(null);O.useImperativeHandle(kn,()=>({clearPremoves(Z=!0){Jn(Z)}})),O.useEffect(()=>{Do(Object.assign(Object.assign({},af),g))},[g]),O.useEffect(()=>{Kn(yt),Pr(Fe)},[Fe,yt]),O.useEffect(()=>{var Z,D,xe;Mr();const Q=cf(ze),Se=qm(Re,Q),et=((Z=Object.keys(Se.added))===null||Z===void 0?void 0:Z.length)<=2?(xe=(D=Object.entries(Se.added))===null||D===void 0?void 0:D[0])===null||xe===void 0?void 0:xe[1][0]:void 0;if(Yn)Ve(Q),Xn(!1),i&&br(et),Gn.current&&clearTimeout(Gn.current);else if(No)Ve(Q),Xn(!1),i&&br(et);else{uf(Q)&&Vn!==void 0?Qt(et):uf(Q)?Qt(void 0):Qt("b"),ko(Se),Xn(!0);const Ke=setTimeout(()=>{Ve(Q),Xn(!1),i&&br(et)},e);Gn.current=Ke}return Qn(!1),H(Q),jr(),()=>{clearTimeout(Gn.current)}},[ze]);const{arrows:Mi,newArrow:Ro,clearArrows:jr,drawNewArrow:Io,onArrowDrawEnd:jo}=Ym(f,n,A,p);function bo(Z,D,xe,Q){if(Z===D)return;if(jr(),i&&Yn||i&&(Vn===xe[0]||Dt.current.filter(et=>et.piece[0]===xe[0]).length>0)){const et=[...Dt.current];et.push({sourceSq:Z,targetSq:D,piece:xe}),Dt.current=et,Rr([...et]),Mr();return}if(!i&&Yn)return;const Se=Object.assign({},Re);Qn(!!Q),Qt(xe[0]),Ee.length?Ee(Z,D,xe)||(Jn(),Qn(!1)):(delete Se[Z],Se[D]=xe,Ve(Se)),Mr(),H(Se)}function Mo(Z){const D=Object.assign({},Re);delete D[Z],Ve(D),H(D)}function br(Z){if(Dt.current.length===0)return;const D=Dt.current[0];if(D.piece[0]!==void 0&&D.piece[0]!==Z&&Ee.length)if(Qt(D.piece[0]),Qn(!0),Ee(D.sourceSq,D.targetSq,D.piece)){const Q=[...Dt.current];Q.shift(),Dt.current=Q,Rr([...Q])}else Jn()}function Ao(Z,D){if(!ne(Z,D))return;const Q=Object.assign({},Re);Q[D]=Z,Ve(Q),H(Q)}function Jn(Z=!0){Z&&Qt(void 0),Dt.current=[],Rr([])}function Mr(){bi(null),Pr(null),Kn(!1)}function $o(Z){En(Z)}function _(Z){if(Ir){if(Ir===Z){En(void 0),u&&Jn(!1),lt(Z);return}}else En(void 0)}function Gt(){En(void 0)}const Ze={allowDragOutsideBoard:t,animationDuration:e,arePiecesDraggable:r,arePremovesAllowed:i,arrows:Mi,autoPromoteToQueen:s,boardOrientation:o,boardWidth:l,chessPieces:To,clearArrows:jr,clearCurrentRightClickDown:Gt,currentPosition:Re,currentRightClickDown:Ir,customArrowColor:p,customBoardStyle:c,customDarkSquareStyle:v,customDropSquareStyle:w,customLightSquareStyle:T,customNotationStyle:y,customPremoveDarkSquareStyle:h,customPremoveLightSquareStyle:m,customSquare:E,customSquareStyles:R,deletePieceFromSquare:Mo,drawNewArrow:Io,dropOffBoardAction:x,handleSetPosition:bo,handleSparePieceDrop:Ao,id:P,isDraggablePiece:L,isWaitingForAnimation:Yn,lastPieceColour:Vn,lastSquareDraggedOver:Po,newArrow:Ro,onArrowDrawEnd:jo,onDragOverSquare:J,onMouseOutSquare:re,onMouseOverSquare:I,onPieceClick:X,onPieceDragBegin:le,onPieceDragEnd:ge,onPieceDrop:Ee,onPieceDropOffBoard:j,onPromotionCheck:B,onPromotionPieceSelect:U,onRightClickDown:$o,onRightClickUp:_,onSparePieceDrop:ne,onSquareClick:ae,positionDifferences:qn,premoves:Lr,promoteFromSquare:xo,promoteToSquare:Oo,promotionDialogVariant:Tt,setLastSquareDraggedOver:Lo,setPromoteFromSquare:bi,setPromoteToSquare:Pr,setShowPromoteDialog:Kn,showBoardNotation:W,showPromoteDialog:Eo,snapToCursor:Mt};return d.jsx(Qh.Provider,Object.assign({value:Ze},{children:a}))});function Jm({row:t,col:e}){const{boardOrientation:n,boardWidth:r,customDarkSquareStyle:i,customLightSquareStyle:s,customNotationStyle:o}=Kt(),l=s.backgroundColor,a=i.backgroundColor,u=e===0,f=t===7,p=u&&f;function c(){return n==="white"?8-t:t+1}function y(){return n==="black"?Ni[7-e]:Ni[e]}function v(){return d.jsxs(d.Fragment,{children:[d.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:l}),df(r,o))},{children:c()})),d.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:l}),ff(r,o))},{children:y()}))]})}function w(){return d.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?a:l}),ff(r,o))},{children:y()}))}function T(){return d.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},n==="black"?{color:t%2===0?a:l}:{color:t%2===0?a:l}),df(r,o))},{children:c()}))}return p?v():f?w():u?T():null}const ff=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),df=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e),Gh=O.createContext({dragDropManager:void 0});function at(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var hf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),pf=function(){return Math.random().toString(36).substring(7).split("").join(".")},gf={INIT:"@@redux/INIT"+pf(),REPLACE:"@@redux/REPLACE"+pf()};function Zm(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Yh(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(at(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(at(1));return n(Yh)(t,e)}if(typeof t!="function")throw new Error(at(2));var i=t,s=e,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function f(){if(a)throw new Error(at(3));return s}function p(w){if(typeof w!="function")throw new Error(at(4));if(a)throw new Error(at(5));var T=!0;return u(),l.push(w),function(){if(T){if(a)throw new Error(at(6));T=!1,u();var h=l.indexOf(w);l.splice(h,1),o=null}}}function c(w){if(!Zm(w))throw new Error(at(7));if(typeof w.type>"u")throw new Error(at(8));if(a)throw new Error(at(9));try{a=!0,s=i(s,w)}finally{a=!1}for(var T=o=l,g=0;g<T.length;g++){var h=T[g];h()}return w}function y(w){if(typeof w!="function")throw new Error(at(10));i=w,c({type:gf.REPLACE})}function v(){var w,T=p;return w={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(at(11));function m(){h.next&&h.next(f())}m();var E=T(m);return{unsubscribe:E}}},w[hf]=function(){return this},w}return c({type:gf.INIT}),r={dispatch:c,subscribe:p,getState:f,replaceReducer:y},r[hf]=v,r}function q(t,e,...n){if(ev()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(e.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function ev(){return typeof process<"u"&&!0}function tv(t,e,n){return e.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,t)}function nv(t,e){return t.filter(n=>n!==e)}function Xh(t){return typeof t=="object"}function rv(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach((s,o)=>{s===1&&i.push(o)}),i}function iv(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Nu="dnd-core/INIT_COORDS",mo="dnd-core/BEGIN_DRAG",Pu="dnd-core/PUBLISH_DRAG_SOURCE",vo="dnd-core/HOVER",yo="dnd-core/DROP",wo="dnd-core/END_DRAG";function mf(t,e){return{type:Nu,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const sv={type:Nu,payload:{clientOffset:null,sourceClientOffset:null}};function ov(t){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=r,l=t.getMonitor(),a=t.getRegistry();t.dispatch(mf(s)),lv(n,l,a);const u=cv(n,l);if(u==null){t.dispatch(sv);return}let f=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");av(o),f=o(u)}t.dispatch(mf(s,f));const c=a.getSource(u).beginDrag(l,u);if(c==null)return;uv(c),a.pinSource(u);const y=a.getSourceType(u);return{type:mo,payload:{itemType:y,item:c,sourceId:u,clientOffset:s||null,sourceClientOffset:f||null,isSourcePublic:!!i}}}}function lv(t,e,n){q(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){q(n.getSource(r),"Expected sourceIds to be registered.")})}function av(t){q(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function uv(t){q(Xh(t),"Item must be an object.")}function cv(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function fv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){fv(t,i,n[i])})}return t}function hv(t){return function(n={}){const r=t.getMonitor(),i=t.getRegistry();pv(r),vv(r).forEach((o,l)=>{const a=gv(o,l,i,r),u={type:yo,payload:{dropResult:dv({},n,a)}};t.dispatch(u)})}}function pv(t){q(t.isDragging(),"Cannot call drop while not dragging."),q(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function gv(t,e,n,r){const i=n.getTarget(t);let s=i?i.drop(r,t):void 0;return mv(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function mv(t){q(typeof t>"u"||Xh(t),"Drop result must either be an object or undefined.")}function vv(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function yv(t){return function(){const n=t.getMonitor(),r=t.getRegistry();wv(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:wo}}}function wv(t){q(t.isDragging(),"Cannot call endDrag while not dragging.")}function ka(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Sv(t){return function(n,{clientOffset:r}={}){_v(n);const i=n.slice(0),s=t.getMonitor(),o=t.getRegistry(),l=s.getItemType();return kv(i,o,l),Cv(i,s,o),Ev(i,s,o),{type:vo,payload:{targetIds:i,clientOffset:r||null}}}}function _v(t){q(Array.isArray(t),"Expected targetIds to be an array.")}function Cv(t,e,n){q(e.isDragging(),"Cannot call hover while not dragging."),q(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const i=t[r];q(t.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(i);q(s,"Expected targetIds to be registered.")}}function kv(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r],s=e.getTargetType(i);ka(s,n)||t.splice(r,1)}}function Ev(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function xv(t){return function(){if(t.getMonitor().isDragging())return{type:Pu}}}function Ov(t){return{beginDrag:ov(t),publishDragSource:xv(t),hover:Sv(t),drop:hv(t),endDrag:yv(t)}}class Tv{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...o)=>{const l=s.apply(e,o);typeof l<"u"&&n(l)}}const i=Ov(this);return Object.keys(i).reduce((s,o)=>{const l=i[o];return s[o]=r(l),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Dv(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Jh(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nv(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:Jh(Dv(e,r),n)}function Pv(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:Jh(e,n)}const ui=[],Lu=[];ui.__IS_NONE__=!0;Lu.__IS_ALL__=!0;function Lv(t,e){return t===ui?!1:t===Lu||typeof e>"u"?!0:iv(e,t).length>0}class Rv{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;q(typeof e=="function","listener must be a function."),q(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),l=o.stateId;try{l===i||l===i+1&&!Lv(o.dirtyHandlerIds,r)||e()}finally{i=l}};return this.store.subscribe(s)}subscribeToOffsetChange(e){q(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return q(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(q(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();return ka(r,i)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(q(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),i=this.getItemType();return r!==i?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!ka(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const l=o.indexOf(e);return r?l===o.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Nv(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Pv(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const vf=typeof global<"u"?global:self,Zh=vf.MutationObserver||vf.WebKitMutationObserver;function ep(t){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),t()}}}function Iv(t){let e=1;const n=new Zh(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const jv=typeof Zh=="function"?Iv:ep;class bv{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,i=e.length-this.index;r<i;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=jv(this.flush),this.requestErrorThrow=ep(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Mv{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Av{create(e){const n=this.freeTasks,r=n.length?n.pop():new Mv(this.onError,i=>n[n.length]=i);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const tp=new bv,$v=new Av(tp.registerPendingError);function zv(t){tp.enqueueTask($v.create(t))}const Ru="dnd-core/ADD_SOURCE",Iu="dnd-core/ADD_TARGET",ju="dnd-core/REMOVE_SOURCE",So="dnd-core/REMOVE_TARGET";function Fv(t){return{type:Ru,payload:{sourceId:t}}}function Bv(t){return{type:Iu,payload:{targetId:t}}}function Uv(t){return{type:ju,payload:{sourceId:t}}}function Hv(t){return{type:So,payload:{targetId:t}}}function Wv(t){q(typeof t.canDrag=="function","Expected canDrag to be a function."),q(typeof t.beginDrag=="function","Expected beginDrag to be a function."),q(typeof t.endDrag=="function","Expected endDrag to be a function.")}function qv(t){q(typeof t.canDrop=="function","Expected canDrop to be a function."),q(typeof t.hover=="function","Expected hover to be a function."),q(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ea(t,e){if(e&&Array.isArray(t)){t.forEach(n=>Ea(n,!1));return}q(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var dt;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(dt||(dt={}));let Vv=0;function Kv(){return Vv++}function Qv(t){const e=Kv().toString();switch(t){case dt.SOURCE:return`S${e}`;case dt.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function yf(t){switch(t[0]){case"S":return dt.SOURCE;case"T":return dt.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function wf(t,e){const n=t.entries();let r=!1;do{const{done:i,value:[,s]}=n.next();if(s===e)return!0;r=!!i}while(!r);return!1}class Gv{addSource(e,n){Ea(e),Wv(n);const r=this.addHandler(dt.SOURCE,e,n);return this.store.dispatch(Fv(r)),r}addTarget(e,n){Ea(e,!0),qv(n);const r=this.addHandler(dt.TARGET,e,n);return this.store.dispatch(Bv(r)),r}containsHandler(e){return wf(this.dragSources,e)||wf(this.dropTargets,e)}getSource(e,n=!1){return q(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return q(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return q(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return q(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return yf(e)===dt.SOURCE}isTargetId(e){return yf(e)===dt.TARGET}removeSource(e){q(this.getSource(e),"Expected an existing source."),this.store.dispatch(Uv(e)),zv(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){q(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Hv(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);q(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){q(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const i=Qv(e);return this.types.set(i,n),e===dt.SOURCE?this.dragSources.set(i,r):e===dt.TARGET&&this.dropTargets.set(i,r),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Yv=(t,e)=>t===e;function Xv(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Jv(t,e,n=Yv){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Zv(t=ui,e){switch(e.type){case vo:break;case Ru:case Iu:case So:case ju:return ui;case mo:case Pu:case wo:case yo:default:return Lu}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,i=rv(n,r);if(!(i.length>0||!Jv(n,r)))return ui;const o=r[r.length-1],l=n[n.length-1];return o!==l&&(o&&i.push(o),l&&i.push(l)),i}function e1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){e1(t,i,n[i])})}return t}const Sf={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function n1(t=Sf,e){const{payload:n}=e;switch(e.type){case Nu:case mo:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case vo:return Xv(t.clientOffset,n.clientOffset)?t:t1({},t,{clientOffset:n.clientOffset});case wo:case yo:return Sf;default:return t}}function r1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){r1(t,i,n[i])})}return t}const i1={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function s1(t=i1,e){const{payload:n}=e;switch(e.type){case mo:return er({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Pu:return er({},t,{isSourcePublic:!0});case vo:return er({},t,{targetIds:n.targetIds});case So:return t.targetIds.indexOf(n.targetId)===-1?t:er({},t,{targetIds:nv(t.targetIds,n.targetId)});case yo:return er({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case wo:return er({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function o1(t=0,e){switch(e.type){case Ru:case Iu:return t+1;case ju:case So:return t-1;default:return t}}function l1(t=0){return t+1}function a1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){a1(t,i,n[i])})}return t}function c1(t={},e){return{dirtyHandlerIds:Zv(t.dirtyHandlerIds,{type:e.type,payload:u1({},e.payload,{prevTargetIds:tv(t,"dragOperation.targetIds",[])})}),dragOffset:n1(t.dragOffset,e),refCount:o1(t.refCount,e),dragOperation:s1(t.dragOperation,e),stateId:l1(t.stateId)}}function f1(t,e=void 0,n={},r=!1){const i=d1(r),s=new Rv(i,new Gv(i)),o=new Tv(i,s),l=t(o,e,n);return o.receiveBackend(l),o}function d1(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Yh(c1,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function h1(t,e){if(t==null)return{};var n=p1(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let _f=0;const Cs=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var g1=O.memo(function(e){var{children:n}=e,r=h1(e,["children"]);const[i,s]=m1(r);return O.useEffect(()=>{if(s){const o=np();return++_f,()=>{--_f===0&&(o[Cs]=null)}}},[]),d.jsx(Gh.Provider,{value:i,children:n})});function m1(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=v1(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function v1(t,e=np(),n,r){const i=e;return i[Cs]||(i[Cs]={dragDropManager:f1(t,e,n,r)}),i[Cs]}function np(){return typeof global<"u"?global:window}var y1=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const Bn=typeof window<"u"?O.useLayoutEffect:O.useEffect;function rp(t,e,n){const[r,i]=O.useState(()=>e(t)),s=O.useCallback(()=>{const o=e(t);y1(r,o)||(i(o),n&&n())},[r,t,n]);return Bn(s),[r,s]}function w1(t,e,n){const[r,i]=rp(t,e,n);return Bn(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(i,{handlerIds:[o]})},[t,i]),r}function ip(t,e,n){return w1(e,t||(()=>({})),()=>n.reconnect())}function sp(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),O.useMemo(()=>typeof t=="function"?t():t,n)}function S1(t){return O.useMemo(()=>t.hooks.dragSource(),[t])}function _1(t){return O.useMemo(()=>t.hooks.dragPreview(),[t])}let yl=!1,wl=!1;class C1{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){q(!yl,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return yl=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{yl=!1}}isDragging(){if(!this.sourceId)return!1;q(!wl,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return wl=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{wl=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Sl=!1;class k1{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;q(!Sl,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Sl=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Sl=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function E1(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}function x1(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}function xa(t,e,n,r){let i;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let a=0;a<s.length;a++){const u=s[a];if(!l(u))return!1;const f=t[u],p=e[u];if(i=void 0,i===!1||i===void 0&&f!==p)return!1}return!0}function Oa(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O1(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function T1(t){return(e=null,n=null)=>{if(!O.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return O1(r),D1(r,n?s=>t(s,n):t)}}function op(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const i=T1(r);e[n]=()=>i}}),e}function Cf(t,e){typeof t=="function"?t(e):t.current=e}function D1(t,e){const n=t.ref;return q(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?O.cloneElement(t,{ref:r=>{Cf(n,r),Cf(e,r)}}):O.cloneElement(t,{ref:e})}class N1{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!xa(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!xa(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=op({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Oa(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Oa(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class P1{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!xa(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=op({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Oa(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Wn(){const{dragDropManager:t}=O.useContext(Gh);return q(t!=null,"Expected drag drop context"),t}function L1(t,e){const n=Wn(),r=O.useMemo(()=>new N1(n.getBackend()),[n]);return Bn(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Bn(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function R1(){const t=Wn();return O.useMemo(()=>new C1(t),[t])}class I1{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,i=this.monitor,{isDragging:s}=r;return s?s(i):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:i}=e;i&&i(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function j1(t,e,n){const r=O.useMemo(()=>new I1(t,e,n),[e,n]);return O.useEffect(()=>{r.spec=t},[t]),r}function b1(t){return O.useMemo(()=>{const e=t.type;return q(e!=null,"spec.type must be defined"),e},[t])}function M1(t,e,n){const r=Wn(),i=j1(t,e,n),s=b1(t);Bn(function(){if(s!=null){const[l,a]=x1(s,i,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),a}},[r,e,n,i,s])}function A1(t,e){const n=sp(t,e);q(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=R1(),i=L1(n.options,n.previewOptions);return M1(n,r,i),[ip(n.collect,r,i),S1(i),_1(i)]}function $1(t){const n=Wn().getMonitor(),[r,i]=rp(n,t);return O.useEffect(()=>n.subscribeToOffsetChange(i)),O.useEffect(()=>n.subscribeToStateChange(i)),r}function z1(t){return O.useMemo(()=>t.hooks.dropTarget(),[t])}function F1(t){const e=Wn(),n=O.useMemo(()=>new P1(e.getBackend()),[e]);return Bn(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function B1(){const t=Wn();return O.useMemo(()=>new k1(t),[t])}function U1(t){const{accept:e}=t;return O.useMemo(()=>(q(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class H1{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function W1(t,e){const n=O.useMemo(()=>new H1(t,e),[e]);return O.useEffect(()=>{n.spec=t},[t]),n}function q1(t,e,n){const r=Wn(),i=W1(t,e),s=U1(t);Bn(function(){const[l,a]=E1(s,i,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),a},[r,e,i,n,s.map(o=>o.toString()).join("|")])}function V1(t,e){const n=sp(t,e),r=B1(),i=F1(n.options);return q1(n,r,i),[ip(n.collect,r,i),z1(i)]}function lp(t){let e=null;return()=>(e==null&&(e=t()),e)}function K1(t,e){return t.filter(n=>n!==e)}function Q1(t,e){const n=new Set,r=s=>n.add(s);t.forEach(r),e.forEach(r);const i=[];return n.forEach(s=>i.push(s)),i}class G1{enter(e){const n=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Q1(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=K1(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Y1{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(n[r]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const ap="__NATIVE_FILE__",up="__NATIVE_URL__",cp="__NATIVE_TEXT__",fp="__NATIVE_HTML__";var kf=Object.freeze({__proto__:null,FILE:ap,HTML:fp,TEXT:cp,URL:up});function _l(t,e,n){const r=e.reduce((i,s)=>i||t.getData(s),"");return r??n}const Ta={[ap]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[fp]:{exposeProperties:{html:(t,e)=>_l(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[up]:{exposeProperties:{urls:(t,e)=>_l(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[cp]:{exposeProperties:{text:(t,e)=>_l(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function X1(t,e){const n=Ta[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new Y1(n);return r.loadDataTransfer(e),r}function Cl(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Ta).filter(n=>{const r=Ta[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const J1=lp(()=>/firefox/i.test(navigator.userAgent)),dp=lp(()=>!!window.safari);class Ef{interpolate(e){const{xs:n,ys:r,c1s:i,c2s:s,c3s:o}=this;let l=n.length-1;if(e===n[l])return r[l];let a=0,u=o.length-1,f;for(;a<=u;){f=Math.floor(.5*(a+u));const y=n[f];if(y<e)a=f+1;else if(y>e)u=f-1;else return r[f]}l=Math.max(0,u);const p=e-n[l],c=p*p;return r[l]+i[l]*p+s[l]*c+o[l]*p*c}constructor(e,n){const{length:r}=e,i=[];for(let y=0;y<r;y++)i.push(y);i.sort((y,v)=>e[y]<e[v]?-1:1);const s=[],o=[];let l,a;for(let y=0;y<r-1;y++)l=e[y+1]-e[y],a=n[y+1]-n[y],s.push(l),o.push(a/l);const u=[o[0]];for(let y=0;y<s.length-1;y++){const v=o[y],w=o[y+1];if(v*w<=0)u.push(0);else{l=s[y];const T=s[y+1],g=l+T;u.push(3*g/((g+T)/v+(g+l)/w))}}u.push(o[o.length-1]);const f=[],p=[];let c;for(let y=0;y<u.length-1;y++){c=o[y];const v=u[y],w=1/s[y],T=v+u[y+1]-c-c;f.push((c-v-T)*w),p.push(T*w*w)}this.xs=e,this.ys=n,this.c1s=u,this.c2s=f,this.c3s=p}}const Z1=1;function hp(t){const e=t.nodeType===Z1?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function rs(t){return{x:t.clientX,y:t.clientY}}function ey(t){var e;return t.nodeName==="IMG"&&(J1()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function ty(t,e,n,r){let i=t?e.width:n,s=t?e.height:r;return dp()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function ny(t,e,n,r,i){const s=ey(e),l=hp(s?t:e),a={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:f}=t,{anchorX:p,anchorY:c}=r,{dragPreviewWidth:y,dragPreviewHeight:v}=ty(s,e,u,f),w=()=>{let x=new Ef([0,.5,1],[a.y,a.y/f*v,a.y+v-f]).interpolate(c);return dp()&&s&&(x+=(window.devicePixelRatio-1)*v),x},T=()=>new Ef([0,.5,1],[a.x,a.x/u*y,a.x+y-u]).interpolate(p),{offsetX:g,offsetY:h}=i,m=g===0||g,E=h===0||h;return{x:m?g:T(),y:E?h:w()}}let ry=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}};function iy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){iy(t,i,n[i])})}return t}class sy{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const i=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",i),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",i),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return xf({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return xf({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(kf).some(n=>kf[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=X1(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&hp(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=rs(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:l}=i,a=Cl(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const f=this.monitor.getSourceId(),p=this.sourceNodes.get(f),c=this.sourcePreviewNodes.get(f)||p;if(c){const{anchorX:y,anchorY:v,offsetX:w,offsetY:T}=this.getCurrentSourcePreviewNodeOptions(),m=ny(p,c,o,{anchorX:y,anchorY:v},{offsetX:w,offsetY:T});l.setDragImage(c,m.x,m.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(a)this.beginDragNativeItem(a);else{if(l&&!l.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:l}=i,a=Cl(l);a&&this.beginDragNativeItem(a,l)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:rs(i)}),s.some(l=>this.monitor.canDropOnTarget(l))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=rs(i),this.scheduleHover(s),(s||[]).some(l=>this.monitor.canDropOnTarget(l))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else Cl(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:rs(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new ry(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new G1(this.isNodeInDocument)}}let is;function oy(){return is||(is=new Image,is.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),is}const ly=function(e,n,r){return new sy(e,n,r)};function Of({isPremovedPiece:t=!1,piece:e,square:n,squares:r}){const{animationDuration:i,arePiecesDraggable:s,boardWidth:o,boardOrientation:l,chessPieces:a,currentPosition:u,deletePieceFromSquare:f,dropOffBoardAction:p,id:c,isDraggablePiece:y,isWaitingForAnimation:v,onPieceClick:w,onPieceDragBegin:T,onPieceDragEnd:g,onPieceDropOffBoard:h,onPromotionCheck:m,positionDifferences:E}=Kt(),[R,x]=O.useState({opacity:1,zIndex:5,touchAction:"none",cursor:s&&y({piece:e,sourceSquare:n})?"-webkit-grab":"default"}),[{canDrag:P,isDragging:L},H,A]=A1(()=>({type:"piece",item:()=>(T(e,n),{piece:e,square:n,id:c}),end:(re,I)=>{g(e,n),!I.didDrop()&&(p==="trash"&&f(n),h==null||h(n,e))},collect:re=>({canDrag:y({piece:e,sourceSquare:n}),isDragging:!!re.isDragging()})}),[e,n,u,c]);A(oy(),{captureDraggingState:!0}),O.useEffect(()=>{x(re=>Object.assign(Object.assign({},re),{opacity:L?0:1}))},[L]),O.useEffect(()=>{var re;const I=(re=E.removed)===null||re===void 0?void 0:re[n];if(!E.added||!I)return;const X=Object.entries(E.added).find(([le,ge])=>ge===I||m(n,le,I));if(v&&I&&X&&!t){const le=n,ge=X[0];if(le&&ge){const Ee=o/8;x(j=>Object.assign(Object.assign({},j),{transform:`translate(${(l==="black"?-1:1)*(ge.charCodeAt(0)-le.charCodeAt(0))*Ee}px, ${(l==="black"?-1:1)*(Number(le[1])-Number(ge[1]))*Ee}px)`,transition:`transform ${i}ms`,zIndex:6}))}}},[E]),O.useEffect(()=>{const{sourceSq:re}=J();re&&x(I=>Object.assign(Object.assign({},I),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),O.useEffect(()=>{x(re=>Object.assign(Object.assign({},re),{cursor:s&&y({piece:e,sourceSquare:n})?"-webkit-grab":"default"}))},[n,u,s]);function J(){return{sourceSq:r[n]}}return d.jsx("div",Object.assign({ref:s&&P?H:null,onClick:()=>w(e,n),"data-piece":e,style:R},{children:typeof a[e]=="function"?a[e]({squareWidth:o/8,isDragging:L,square:n}):d.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:d.jsx("g",{children:a[e]})}))}))}function ay({square:t,squareColor:e,setSquares:n,squareHasPremove:r,children:i}){const s=O.useRef(null),{autoPromoteToQueen:o,boardWidth:l,boardOrientation:a,clearArrows:u,currentPosition:f,currentRightClickDown:p,customBoardStyle:c,customDarkSquareStyle:y,customDropSquareStyle:v,customLightSquareStyle:w,customPremoveDarkSquareStyle:T,customPremoveLightSquareStyle:g,customSquare:h,customSquareStyles:m,drawNewArrow:E,handleSetPosition:R,handleSparePieceDrop:x,isWaitingForAnimation:P,lastPieceColour:L,lastSquareDraggedOver:H,onArrowDrawEnd:A,onDragOverSquare:J,onMouseOutSquare:re,onMouseOverSquare:I,onPieceDrop:X,onPromotionCheck:le,onRightClickDown:ge,onRightClickUp:Ee,onSquareClick:j,setLastSquareDraggedOver:B,setPromoteFromSquare:U,setPromoteToSquare:ne,setShowPromoteDialog:ae}=Kt(),[{isOver:lt},ze]=V1(()=>({accept:"piece",drop:Tt,collect:W=>({isOver:!!W.isOver()})}),[t,f,X,P,L]);function Tt(W){if(W.isSpare){x(W.piece,t);return}le(W.square,t,W.piece)?o?R(W.square,t,W.piece[0]==="w"?"wQ":"bQ"):(U(W.square),ne(t),ae(!0)):R(W.square,t,W.piece,!0)}O.useEffect(()=>{if(s.current){const{x:W,y:yt}=s.current.getBoundingClientRect();n(Mt=>Object.assign(Object.assign({},Mt),{[t]:{x:W,y:yt}}))}},[l,a]);const Fe=Object.assign(Object.assign(Object.assign(Object.assign({},uy(t,a,c)),e==="black"?y:w),r&&(e==="black"?T:g)),lt&&v);return d.jsx("div",Object.assign({ref:ze,style:Fe,"data-square-color":e,"data-square":t,onTouchMove:W=>{var yt;const Mt=W.touches[0],kn=document.elementsFromPoint(Mt.clientX,Mt.clientY),Re=(yt=kn==null?void 0:kn.find(Ve=>Ve.getAttribute("data-square")))===null||yt===void 0?void 0:yt.getAttribute("data-square");Re&&Re!==H&&(B(Re),J(Re))},onMouseOver:W=>{W.buttons===2&&p&&E(p,t),!(W.relatedTarget&&W.currentTarget.contains(W.relatedTarget))&&I(t)},onMouseOut:W=>{W.relatedTarget&&W.currentTarget.contains(W.relatedTarget)||re(t)},onMouseDown:W=>{W.button===2&&ge(t)},onMouseUp:W=>{W.button===2&&(p&&A(p,t),Ee(t))},onDragEnter:()=>J(t),onClick:()=>{const W=f[t];j(t,W),u()},onContextMenu:W=>{W.preventDefault()}},{children:typeof h=="string"?d.jsx(h,Object.assign({ref:s,style:Object.assign(Object.assign(Object.assign({},Df(l)),Tf),!r&&(m==null?void 0:m[t]))},{children:i})):d.jsx(h,Object.assign({ref:s,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},Df(l)),Tf),!r&&(m==null?void 0:m[t]))},{children:i}))}))}const Tf={display:"flex",justifyContent:"center"},Df=t=>({width:t/8,height:t/8}),uy=(t,e,n)=>n!=null&&n.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:n.borderRadius}:{borderTopRightRadius:n.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:n.borderRadius}:{borderBottomRightRadius:n.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:n.borderRadius}:{borderTopLeftRadius:n.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:n.borderRadius}:{borderBottomLeftRadius:n.borderRadius}:{}:{};function cy(){const[t,e]=O.useState({}),{arePremovesAllowed:n,boardOrientation:r,boardWidth:i,currentPosition:s,id:o,premoves:l,showBoardNotation:a}=Kt(),u=O.useMemo(()=>{const f=[];return n?(l.forEach((p,c)=>{const{sourceSq:y,targetSq:v,piece:w}=p,T=f.find(g=>{var h;return g.piece===w&&((h=g.premovesRoute.at(-1))===null||h===void 0?void 0:h.targetSq)===y});T?T.premovesRoute.push({sourceSq:y,targetSq:v,index:c}):f.push({piece:w,premovesRoute:[{sourceSq:y,targetSq:v,index:c}]})}),f):[]},[l]);return d.jsx("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((f,p)=>d.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:i}},{children:[...Array(8)].map((c,y)=>{const v=r==="black"?Ni[7-y]+(p+1):Ni[y]+(8-p),w=y%2===p%2?"white":"black",T=l.find(h=>h.sourceSq===v||h.targetSq===v),g=u.filter(({premovesRoute:h})=>{var m;return((m=h.at(-1))===null||m===void 0?void 0:m.targetSq)===v}).sort((h,m)=>{var E,R;return((E=m.premovesRoute.at(-1))===null||E===void 0?void 0:E.index)-((R=h.premovesRoute.at(-1))===null||R===void 0?void 0:R.index)}).at(0);return d.jsxs(ay,Object.assign({square:v,squareColor:w,setSquares:e,squareHasPremove:!!T},{children:[!T&&s[v]&&d.jsx(Of,{piece:s[v],square:v,squares:t}),g&&d.jsx(Of,{isPremovedPiece:!0,piece:g.piece,square:v,squares:t}),a&&d.jsx(Jm,{row:p,col:y})]}),`${y}${p}`)})}),p.toString()))}))}const fy=()=>{const{arrows:t,newArrow:e,boardOrientation:n,boardWidth:r,customArrowColor:i}=Kt(),s=[...t,e].filter(Boolean);return d.jsx("svg",Object.assign({width:r,height:r,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:s.map((o,l)=>{const[a,u,f]=o;if(a===u)return null;const p=Ca(n,r,a),c=Ca(n,r,u);let y=r/32;const v=l===t.length;t.some(m=>m[0]!==a&&m[1]===u)&&!v&&(y=r/16);const w=c.x-p.x,T=c.y-p.y,g=Math.hypot(T,w),h={x:p.x+w*(g-y)/g,y:p.y+T*(g-y)/g};return d.jsxs(O.Fragment,{children:[d.jsx("marker",Object.assign({id:`arrowhead-${l}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:d.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:f??i})})),d.jsx("line",{x1:p.x,y1:p.y,x2:h.x,y2:h.y,opacity:v?"0.5":"0.65",stroke:f??i,strokeWidth:v?.9*r/40:r/40,markerEnd:`url(#arrowhead-${l})`})]},`${a}-${u}${v?"-active":""}`)})}))};function dy({option:t}){const[e,n]=O.useState(!1),{boardWidth:r,chessPieces:i,customDarkSquareStyle:s,customLightSquareStyle:o,handleSetPosition:l,onPromotionPieceSelect:a,promoteFromSquare:u,promoteToSquare:f,promotionDialogVariant:p}=Kt(),c=()=>{switch(t[1]){case"Q":return s.backgroundColor;case"R":return o.backgroundColor;case"N":return p==="default"?o.backgroundColor:s.backgroundColor;case"B":return p==="default"?s.backgroundColor:o.backgroundColor}};return d.jsx("div",Object.assign({onClick:()=>{a(t,u??void 0,f??void 0)&&l(u,f,t,!0)},onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?c():`${c()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof i[t]=="function"?d.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:i[t]({squareWidth:r/8,isDragging:!1})})):d.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:d.jsx("g",{children:i[t]})}))}))}function hy(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:n,promoteToSquare:r}=Kt(),i=(r==null?void 0:r[1])==="1"?"b":"w",s=[`${i??"w"}Q`,`${i??"w"}R`,`${i??"w"}N`,`${i??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},l=Ca(t,e,r||"a8");return d.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${l==null?void 0:l.y}px`,left:`${l==null?void 0:l.x}px`,zIndex:1e3},o[n]),title:"Choose promotion piece"},{children:s.map(a=>d.jsx(dy,{option:a},a))}))}const py={whiteKing:d.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:d.jsx("g",{children:d.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function gy({children:t}){try{return d.jsx(d.Fragment,{children:t})}catch(e){return console.log(e),d.jsx(pp,{showError:!0})}}function pp({showError:t=!1}){return d.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[d.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:py.whiteKing})),t&&d.jsx("h1",{children:"Something went wrong"})]}))}function my(){const t=O.useRef(null),{boardWidth:e,clearCurrentRightClickDown:n,onPromotionPieceSelect:r,setShowPromoteDialog:i,showPromoteDialog:s,customBoardStyle:o}=Kt();return O.useEffect(()=>{function l(a){t.current&&!t.current.contains(a.target)&&n()}return document.addEventListener("mouseup",l),()=>{document.removeEventListener("mouseup",l)}},[]),e?d.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:d.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},vy(e)),o)},{children:[d.jsx(cy,{}),d.jsx(fy,{}),s&&d.jsxs(d.Fragment,{children:[d.jsx("div",{onClick:()=>{i(!1),r==null||r()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),d.jsx(hy,{})]})]}))})):d.jsx(pp,{})}const vy=t=>({cursor:"default",height:t,width:t});var mn;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(mn||(mn={}));class yy{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,n,r,i;return(i=(r=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var e,n,r,i;return(i=(r=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,n){this.args=e,this.context=n}}function wy(t,e,n,r){return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function Sy(t,e,n,r,i){if(!i)return!1;const s=Math.atan2(r-e,n-t)*180/Math.PI+180;for(let o=0;o<i.length;++o){const l=i[o];if(l&&(l.start==null||s>=l.start)&&(l.end==null||s<=l.end))return!0}return!1}const _y={Left:1},Cy={Left:0};function kl(t){return t.button===void 0||t.button===Cy.Left}function ky(t){return t.buttons===void 0||(t.buttons&_y.Left)===0}function gp(t){return!!t.targetTouches}const Ey=1;function xy(t){const e=t.nodeType===Ey?t:t.parentElement;if(!e)return;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Oy(t,e){if(t.targetTouches.length===1)return Xs(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return Xs(t.touches[0])}function Xs(t,e){return gp(t)?Oy(t,e):{x:t.clientX,y:t.clientY}}const Nf=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Vr={[mn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[mn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[mn.keyboard]:{keydown:"keydown"}};class ci{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(q(!ci.isSetUp,"Cannot have two Touch backends at the same time."),ci.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ci.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,n,r,i=!1){const s=Nf?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const l=Vr[o][n];l&&e.addEventListener(l,r,s)})}removeEventListener(e,n,r,i=!1){const s=Nf?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const l=Vr[o][n];l&&e.removeEventListener(l,r,s)})}connectDragSource(e,n){const r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(e),this.removeEventListener(n,"start",r)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const i=s=>{if(!this.document||!r||!this.monitor.isDragging())return;let o;switch(s.type){case Vr.mouse.move:o={x:s.clientX,y:s.clientY};break;case Vr.touch.move:var l,a;o={x:((l=s.touches[0])===null||l===void 0?void 0:l.clientX)||0,y:((a=s.touches[0])===null||a===void 0?void 0:a.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,f=u&&n.contains(u);if(u===n||f)return this.handleMove(s,e)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,n),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,n,r){this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&xy(s)},this.handleTopMoveStartCapture=i=>{kl(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!kl(i))return;const s=Xs(i);s&&(gp(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=s),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!kl(i))return;const s=i.type===Vr.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),s),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,s)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(s)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:s,dragOverTargetIds:o}=this,l=this.options.enableHoverOutsideTarget,a=Xs(i,this.lastTargetTouchFallback);if(!a)return;if(this._isScrolling||!this.monitor.isDragging()&&Sy(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&s&&wy(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(s,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const f=(o||[]).map(v=>this.targetNodes.get(v)).filter(v=>!!v),p=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(a.x,a.y,f):this.document.elementsFromPoint(a.x,a.y),c=[];for(const v in p){if(!p.hasOwnProperty(v))continue;let w=p[v];for(w!=null&&c.push(w);w;)w=w.parentElement,w&&c.indexOf(w)===-1&&c.push(w)}const y=c.filter(v=>f.indexOf(v)>-1).map(v=>this._getDropTargetId(v)).filter(v=>!!v).filter((v,w,T)=>T.indexOf(v)===w);if(l)for(const v in this.targetNodes){const w=this.targetNodes.get(v);if(u&&w&&w.contains(u)&&y.indexOf(v)===-1){y.unshift(v);break}}y.reverse(),this.actions.hover(y,{clientOffset:a})},this._getDropTargetId=i=>{const s=this.targetNodes.keys();let o=s.next();for(;o.done===!1;){const l=o.value;if(i===this.targetNodes.get(l))return l;o=s.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!ky(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new yy(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(mn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(mn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(mn.keyboard)}}const Ty=function(e,n={},r={}){return new ci(e,n,r)},Dy=O.createContext({isCustomDndProviderSet:!1}),Ny=({children:t})=>d.jsx(d.Fragment,{children:t}),Py=({customDndBackend:t,customDndBackendOptions:e,children:n})=>{const[r,i]=O.useState(),[s,o]=O.useState(!1),[l,a]=O.useState(!1),{isCustomDndProviderSet:u}=O.useContext(Dy);O.useEffect(()=>{a("ontouchstart"in window),o(!0),i(window)},[]);const f=u?Ny:g1;return s?r?d.jsx(f,Object.assign({backend:t||(l?Ty:ly),context:r,options:t?e:void 0},{children:n})):d.jsx(d.Fragment,{children:n}):null};function Ly({boardContainer:t}){const{boardWidth:e,chessPieces:n,id:r,snapToCursor:i,allowDragOutsideBoard:s}=Kt(),o=$1(c=>({item:c.getItem(),clientOffset:c.getClientOffset(),sourceClientOffset:c.getSourceClientOffset(),isDragging:c.isDragging()})),{isDragging:l,item:a,clientOffset:u,sourceClientOffset:f}=o,p=O.useCallback((c,y)=>{if(!c||!y)return{display:"none"};let{x:v,y:w}=i?c:y;const T=e/8/2;if(i&&(v-=T,w-=T),!s){const{left:h,top:m}=t,E=h-T,R=m-T,x=h+e-T,P=m+e-T;v=Math.max(E,Math.min(v,x)),w=Math.max(R,Math.min(w,P))}const g=`translate(${v}px, ${w}px)`;return{transform:g,WebkitTransform:g,touchAction:"none"}},[e,s,i,t]);return l&&a.id===r?d.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:d.jsx("div",Object.assign({style:p(u,f)},{children:typeof n[a.piece]=="function"?n[a.piece]({squareWidth:e/8,isDragging:!0}):d.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:d.jsx("g",{children:n[a.piece]})}))}))})):null}const Ry=O.forwardRef((t,e)=>{const{customDndBackend:n,customDndBackendOptions:r,onBoardWidthChange:i}=t,s=Fm(t,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,l]=O.useState(t.boardWidth),a=O.useRef(null),u=O.useRef(null),[f,p]=O.useState({left:0,top:0}),c=O.useMemo(()=>{var y;return(y=a.current)===null||y===void 0?void 0:y.getBoundingClientRect()},[a.current]);return O.useEffect(()=>{o&&(i==null||i(o))},[o]),O.useEffect(()=>{p({left:c!=null&&c.left?c==null?void 0:c.left:0,top:c!=null&&c.top?c==null?void 0:c.top:0})},[c]),O.useEffect(()=>{var y;if(t.boardWidth===void 0&&(!((y=a.current)===null||y===void 0)&&y.offsetWidth)){const v=new ResizeObserver(()=>{var w;l((w=a.current)===null||w===void 0?void 0:w.offsetWidth)});return v.observe(a.current),()=>{v.disconnect()}}},[a.current]),d.jsx(gy,{children:d.jsxs("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[d.jsx("div",{ref:a,style:{width:"100%"}}),d.jsx(Py,Object.assign({customDndBackend:n,customDndBackendOptions:r},{children:o&&d.jsxs(Xm,Object.assign({boardWidth:o},s,{ref:e},{children:[d.jsx(Ly,{boardContainer:f}),d.jsx(my,{})]}))}))]}))})}),Da={classic:{name:"Classic",lightSquare:"#f0d9b5",darkSquare:"#b58863"},dark:{name:"Dark",lightSquare:"#718096",darkSquare:"#4a5568"},blue:{name:"Ocean Blue",lightSquare:"#e6f3ff",darkSquare:"#4a90e2"},green:{name:"Forest Green",lightSquare:"#f0f8e8",darkSquare:"#769656"},purple:{name:"Royal Purple",lightSquare:"#f3e8ff",darkSquare:"#8b5cf6"}},Iy=({position:t,onPieceDrop:e,boardOrientation:n,allowAllMoves:r,playerColor:i,gameState:s,boardTheme:o="dark"})=>{var R;const[l,a]=O.useState(null),[u,f]=O.useState([]),[p,c]=O.useState(500),[y,v]=O.useState(!0),w=new nn(t);O.useEffect(()=>{const x=()=>{const L=window.innerWidth,H=window.innerHeight;return L<=320?Math.min(L-20,280):L<=480?Math.min(L-30,350):L<=767?Math.min(L-40,400):L<=1199?Math.min(450,H*.6):500},P=()=>{c(x()),v(!1)};return P(),window.addEventListener("resize",P),window.addEventListener("orientationchange",P),()=>{window.removeEventListener("resize",P),window.removeEventListener("orientationchange",P)}},[]);const T=(x,P,L)=>{const H=e(x,P,L);return a(null),f([]),H},g=O.useCallback((x,P)=>{if(i==="spectator")return;const L=w.turn()==="w"?"white":"black";if(i!==L||(x[0]==="w"?"white":"black")!==i)return;if(l===P){a(null),f([]);return}a(P);const A=w.moves({square:P,verbose:!0});f(A.map(J=>J.to))},[w,i,l]),h=O.useCallback((x,P)=>{if(!l){P&&g(P,x);return}if(u.includes(x)){e(l,x,w.get(l)),a(null),f([]);return}if(P&&(P[0]==="w"?"white":"black")===i){g(P,x);return}a(null),f([])},[l,u,e,w,i,g]),m={};if(w.inCheck()){const x=w.turn();if(w.board().flat().find(L=>L&&L.type==="k"&&L.color===x))for(let L=0;L<8;L++)for(let H=0;H<8;H++){const A=String.fromCharCode(97+H)+(8-L),J=w.get(A);if(J&&J.type==="k"&&J.color===x){m[A]={backgroundColor:"rgba(255, 0, 0, 0.6)",border:"3px solid #ff0000",boxShadow:"0 0 10px rgba(255, 0, 0, 0.8)"};break}}}l&&(m[l]={...m[l],backgroundColor:((R=m[l])==null?void 0:R.backgroundColor)||"rgba(255, 215, 0, 0.5)",border:"3px solid #ffd700",boxShadow:"0 0 12px rgba(255, 215, 0, 0.6)"}),u.forEach(x=>{var P;m[x]={...m[x],backgroundColor:((P=m[x])==null?void 0:P.backgroundColor)||"rgba(104, 211, 145, 0.4)",border:"2px solid #68d391",borderRadius:"50%",cursor:"pointer",boxShadow:"0 0 8px rgba(104, 211, 145, 0.5)"}});const E=Da[o]||Da.dark;return y?d.jsx("div",{className:"chessboard-wrapper",children:d.jsxs("div",{className:"chessboard-loading",style:{width:p,height:p},children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Loading board..."})]})}):d.jsx("div",{className:"chessboard-wrapper",children:d.jsx(Ry,{position:t,onPieceDrop:T,onPieceClick:g,onSquareClick:h,boardOrientation:n,arePiecesDraggable:!0,boardWidth:p,customBoardStyle:{borderRadius:"4px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3)"},customDarkSquareStyle:{backgroundColor:E.darkSquare},customLightSquareStyle:{backgroundColor:E.lightSquare},customDropSquareStyle:{boxShadow:"inset 0 0 1px 6px rgba(255,255,0,0.75)"},customSquareStyles:m})})},jy=({gameState:t,playerColor:e,gameId:n,onUndo:r})=>{const{turn:i,gameOver:s,players:o,fen:l,canUndo:a}=t,u=i==="w"?"White":"Black",f=i==="w"&&e==="white"||i==="b"&&e==="black",p=new nn(l),c=p.inCheck(),y=p.isCheckmate(),v=p.isStalemate();return d.jsxs("div",{className:"game-info",children:[d.jsxs("div",{className:"game-details",children:[d.jsx("h3",{children:"Game Information"}),d.jsxs("div",{className:"info-item",children:[d.jsx("strong",{children:"Game ID:"})," ",n]}),d.jsxs("div",{className:"info-item",children:[d.jsx("strong",{children:"Current Turn:"}),d.jsxs("span",{className:`turn-indicator ${f?"my-turn":""} ${c?"in-check":""}`,children:[u," ",f&&"(Your turn)"," ",c&&" CHECK"]})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("strong",{children:"Game Status:"}),d.jsx("span",{className:y||v?"game-over":c?"check-status":s?"game-over":"active",children:y?"Checkmate!":v?"Stalemate!":s?"Game Over":c?"Check!":"Active"})]})]}),d.jsxs("div",{className:"players-section",children:[d.jsx("h4",{children:"Players"}),d.jsxs("div",{className:"players-list",children:[o.map((w,T)=>d.jsxs("div",{className:`player ${w.color}`,children:[d.jsx("span",{className:"player-color",children:w.color}),d.jsx("span",{className:"player-name",children:w.name}),w.color===e&&d.jsx("span",{className:"you-indicator",children:"(You)"})]},T)),o.length===0&&d.jsx("div",{className:"waiting-player",children:"Waiting for players to join..."}),o.length===1&&e!=="spectator"&&d.jsx("div",{className:"waiting-player",children:"Waiting for opponent..."}),o.length===1&&e==="spectator"&&d.jsx("div",{className:"waiting-player",children:"Watching game - 1 player connected, waiting for opponent"}),o.length===2&&e==="spectator"&&d.jsx("div",{className:"waiting-player",children:"Watching game - Both players connected"})]})]}),d.jsx("div",{className:"game-controls",children:d.jsx("div",{className:"undo-controls",children:d.jsx("button",{className:`control-button undo-button ${a?"":"disabled"}`,onClick:r,disabled:!a||e==="spectator",title:a?"Undo your last move":"You can only undo your own moves",children:"Undo My Move"})})})]})},by=({currentTheme:t,onThemeChange:e})=>{const n=r=>{e(r);const i=document.querySelector(`[data-theme="${r}"]`);i&&(i.style.transform="scale(0.95)",setTimeout(()=>{i.style.transform=""},150))};return d.jsxs("div",{className:"board-theme-selector",children:[d.jsx("h4",{children:" Board Theme"}),d.jsx("div",{className:"theme-options",children:Object.entries(Da).map(([r,i])=>d.jsxs("div",{"data-theme":r,className:`theme-option ${t===r?"active":""}`,onClick:()=>n(r),title:`Switch to ${i.name} theme`,children:[d.jsxs("div",{className:"theme-preview",children:[d.jsx("div",{className:"theme-square light",style:{backgroundColor:i.lightSquare}}),d.jsx("div",{className:"theme-square dark",style:{backgroundColor:i.darkSquare}}),d.jsx("div",{className:"theme-square dark",style:{backgroundColor:i.darkSquare}}),d.jsx("div",{className:"theme-square light",style:{backgroundColor:i.lightSquare}})]}),d.jsx("span",{className:"theme-name",children:i.name})]},r))})]})},bt=Object.create(null);bt.open="0";bt.close="1";bt.ping="2";bt.pong="3";bt.message="4";bt.upgrade="5";bt.noop="6";const ks=Object.create(null);Object.keys(bt).forEach(t=>{ks[bt[t]]=t});const Na={type:"error",data:"parser error"},mp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vp=typeof ArrayBuffer=="function",yp=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,bu=({type:t,data:e},n,r)=>mp&&e instanceof Blob?n?r(e):Pf(e,r):vp&&(e instanceof ArrayBuffer||yp(e))?n?r(e):Pf(new Blob([e]),r):r(bt[t]+(e||"")),Pf=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Lf(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let El;function My(t,e){if(mp&&t.data instanceof Blob)return t.data.arrayBuffer().then(Lf).then(e);if(vp&&(t.data instanceof ArrayBuffer||yp(t.data)))return e(Lf(t.data));bu(t,!1,n=>{El||(El=new TextEncoder),e(El.encode(n))})}const Rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Rf.length;t++)Zr[Rf.charCodeAt(t)]=t;const Ay=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,l,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),f=new Uint8Array(u);for(r=0;r<n;r+=4)s=Zr[t.charCodeAt(r)],o=Zr[t.charCodeAt(r+1)],l=Zr[t.charCodeAt(r+2)],a=Zr[t.charCodeAt(r+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|l>>2,f[i++]=(l&3)<<6|a&63;return u},$y=typeof ArrayBuffer=="function",Mu=(t,e)=>{if(typeof t!="string")return{type:"message",data:wp(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:zy(t.substring(1),e)}:ks[n]?t.length>1?{type:ks[n],data:t.substring(1)}:{type:ks[n]}:Na},zy=(t,e)=>{if($y){const n=Ay(t);return wp(n,e)}else return{base64:!0,data:t}},wp=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Sp="",Fy=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{bu(s,!1,l=>{r[o]=l,++i===n&&e(r.join(Sp))})})},By=(t,e)=>{const n=t.split(Sp),r=[];for(let i=0;i<n.length;i++){const s=Mu(n[i],e);if(r.push(s),s.type==="error")break}return r};function Uy(){return new TransformStream({transform(t,e){My(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let xl;function ss(t){return t.reduce((e,n)=>e+n.length,0)}function os(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Hy(t,e){xl||(xl=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(ss(n)<1)break;const a=os(n,1);s=(a[0]&128)===128,i=a[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ss(n)<2)break;const a=os(n,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(ss(n)<8)break;const a=os(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(Na);break}i=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(ss(n)<i)break;const a=os(n,i);l.enqueue(Mu(s?a:xl.decode(a),e)),r=0}if(i===0||i>t){l.enqueue(Na);break}}}})}const _p=4;function we(t){if(t)return Wy(t)}function Wy(t){for(var e in we.prototype)t[e]=we.prototype[e];return t}we.prototype.on=we.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};we.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};we.prototype.off=we.prototype.removeListener=we.prototype.removeAllListeners=we.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};we.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};we.prototype.emitReserved=we.prototype.emit;we.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};we.prototype.hasListeners=function(t){return!!this.listeners(t).length};const _o=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ht=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),qy="arraybuffer";function Cp(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Vy=ht.setTimeout,Ky=ht.clearTimeout;function Co(t,e){e.useNativeTimers?(t.setTimeoutFn=Vy.bind(ht),t.clearTimeoutFn=Ky.bind(ht)):(t.setTimeoutFn=ht.setTimeout.bind(ht),t.clearTimeoutFn=ht.clearTimeout.bind(ht))}const Qy=1.33;function Gy(t){return typeof t=="string"?Yy(t):Math.ceil((t.byteLength||t.size)*Qy)}function Yy(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function kp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xy(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Jy(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Zy extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Au extends we{constructor(e){super(),this.writable=!1,Co(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Zy(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Mu(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Xy(e);return n.length?"?"+n:""}}class ew extends Au{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};By(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Fy(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=kp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Ep=!1;try{Ep=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const tw=Ep;function nw(){}class rw extends ew{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class jt extends we{constructor(e,n,r){super(),this.createRequest=e,Co(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Cp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=jt.requestsCount++,jt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=nw,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete jt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}jt.requestsCount=0;jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",If);else if(typeof addEventListener=="function"){const t="onpagehide"in ht?"pagehide":"unload";addEventListener(t,If,!1)}}function If(){for(let t in jt.requests)jt.requests.hasOwnProperty(t)&&jt.requests[t].abort()}const iw=function(){const t=xp({xdomain:!1});return t&&t.responseType!==null}();class sw extends rw{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=iw&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new jt(xp,this.uri(),e)}}function xp(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||tw))return new XMLHttpRequest}catch{}if(!e)try{return new ht[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Op=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ow extends Au{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Op?{}:Cp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;bu(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&_o(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=kp()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Ol=ht.WebSocket||ht.MozWebSocket;class lw extends ow{createSocket(e,n,r){return Op?new Ol(e,n,r):n?new Ol(e,n):new Ol(e)}doWrite(e,n){this.ws.send(n)}}class aw extends Au{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Hy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Uy();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&_o(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const uw={websocket:lw,webtransport:aw,polling:sw},cw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pa(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=cw.exec(t||""),s={},o=14;for(;o--;)s[fw[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=dw(s,s.path),s.queryKey=hw(s,s.query),s}function dw(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function hw(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const La=typeof addEventListener=="function"&&typeof removeEventListener=="function",Es=[];La&&addEventListener("offline",()=>{Es.forEach(t=>t())},!1);class vn extends we{constructor(e,n){if(super(),this.binaryType=qy,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Pa(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Pa(n.host).host);Co(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Jy(this.opts.query)),La&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Es.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=_p,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&vn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",vn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Gy(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,_o(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(vn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),La&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Es.indexOf(this._offlineEventListener);r!==-1&&Es.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}vn.protocol=_p;class pw extends vn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;vn.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;vn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const c=new Error("probe error");c.transport=n.name,this.emitReserved("upgradeError",c)}}))};function s(){r||(r=!0,f(),n.close(),n=null)}const o=p=>{const c=new Error("probe error: "+p);c.transport=n.name,s(),this.emitReserved("upgradeError",c)};function l(){o("transport closed")}function a(){o("socket closed")}function u(p){n&&p.name!==n.name&&s()}const f=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let gw=class extends pw{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>uw[i]).filter(i=>!!i)),super(e,r)}};function mw(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Pa(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const vw=typeof ArrayBuffer=="function",yw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Tp=Object.prototype.toString,ww=typeof Blob=="function"||typeof Blob<"u"&&Tp.call(Blob)==="[object BlobConstructor]",Sw=typeof File=="function"||typeof File<"u"&&Tp.call(File)==="[object FileConstructor]";function $u(t){return vw&&(t instanceof ArrayBuffer||yw(t))||ww&&t instanceof Blob||Sw&&t instanceof File}function xs(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(xs(t[n]))return!0;return!1}if($u(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return xs(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&xs(t[n]))return!0;return!1}function _w(t){const e=[],n=t.data,r=t;return r.data=Ra(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Ra(t,e){if(!t)return t;if($u(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Ra(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Ra(t[r],e));return n}return t}function Cw(t,e){return t.data=Ia(t.data,e),delete t.attachments,t}function Ia(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ia(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ia(t[n],e));return t}const kw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ew=5;var G;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(G||(G={}));class xw{constructor(e){this.replacer=e}encode(e){return(e.type===G.EVENT||e.type===G.ACK)&&xs(e)?this.encodeAsBinary({type:e.type===G.EVENT?G.BINARY_EVENT:G.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===G.BINARY_EVENT||e.type===G.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=_w(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function jf(t){return Object.prototype.toString.call(t)==="[object Object]"}class zu extends we{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===G.BINARY_EVENT;r||n.type===G.BINARY_ACK?(n.type=r?G.EVENT:G.ACK,this.reconstructor=new Ow(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($u(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(G[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===G.BINARY_EVENT||r.type===G.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(zu.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case G.CONNECT:return jf(n);case G.DISCONNECT:return n===void 0;case G.CONNECT_ERROR:return typeof n=="string"||jf(n);case G.EVENT:case G.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&kw.indexOf(n[0])===-1);case G.ACK:case G.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ow{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Cw(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Tw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zu,Encoder:xw,get PacketType(){return G},protocol:Ew},Symbol.toStringTag,{value:"Module"}));function Ct(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Dw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Dp extends we{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ct(e,"open",this.onopen.bind(this)),Ct(e,"packet",this.onpacket.bind(this)),Ct(e,"error",this.onerror.bind(this)),Ct(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(Dw.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:G.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,p=n.pop();this._registerAckCallback(f,p),o.id=f}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,a=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,l)=>o?i(o):r(l);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:G.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case G.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case G.EVENT:case G.BINARY_EVENT:this.onevent(e);break;case G.ACK:case G.BINARY_ACK:this.onack(e);break;case G.DISCONNECT:this.ondisconnect();break;case G.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:G.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:G.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Nr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Nr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Nr.prototype.reset=function(){this.attempts=0};Nr.prototype.setMin=function(t){this.ms=t};Nr.prototype.setMax=function(t){this.max=t};Nr.prototype.setJitter=function(t){this.jitter=t};class ja extends we{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Co(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Nr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Tw;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new gw(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ct(n,"open",function(){r.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ct(n,"error",s);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ct(e,"ping",this.onping.bind(this)),Ct(e,"data",this.ondata.bind(this)),Ct(e,"error",this.onerror.bind(this)),Ct(e,"close",this.onclose.bind(this)),Ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){_o(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Dp(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Kr={};function Os(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=mw(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Kr[i]&&s in Kr[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let a;return l?a=new ja(r,e):(Kr[i]||(Kr[i]=new ja(r,e)),a=Kr[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(Os,{Manager:ja,Socket:Dp,io:Os,connect:Os});const Nw=t=>{const[e,n]=O.useState(null);return O.useEffect(()=>{const r=Os(t,{transports:["websocket","polling"]});return n(r),()=>{r.disconnect()}},[t]),e};function Pw(){const[t,e]=O.useState(new nn),[n,r]=O.useState(""),[i,s]=O.useState(""),[o,l]=O.useState(null),[a,u]=O.useState({fen:t.fen(),turn:t.turn(),gameOver:!1,players:[],history:[],canUndo:!1}),[f,p]=O.useState(!1),[c,y]=O.useState(!1),[v,w]=O.useState(""),[T,g]=O.useState("dark"),[h,m]=O.useState("join"),[E,R]=O.useState(""),x=Nw("/api");O.useEffect(()=>{const I=localStorage.getItem("chessboardTheme");I&&g(I)},[]),O.useEffect(()=>{if(x)return x.on("connect",()=>{p(!0),console.log("Connected to server")}),x.on("disconnect",()=>{p(!1),console.log("Disconnected from server")}),x.on("gameCreated",({gameId:I,color:X,playerName:le,wasPreferenceGranted:ge,isCreator:Ee})=>{r(I),l(X),y(!0),console.log(`Created game ${I} as ${X} player: ${le}`),!ge&&E&&(w(`Your preferred color (${E}) was not available. You are playing as ${X}.`),setTimeout(()=>w(""),4e3))}),x.on("playerAssigned",({color:I,playerName:X})=>{l(I),console.log(`Assigned as ${I} player: ${X}`)}),x.on("gameState",I=>{const X=new nn(I.fen);e(X),u(I)}),x.on("moveMade",I=>{const X=new nn(I.fen);e(X),u(le=>({...le,fen:I.fen,turn:I.turn,gameOver:I.gameOver,history:I.history,canUndo:I.canUndo||!1}))}),x.on("moveUndone",I=>{const X=new nn(I.fen);e(X),u(le=>({...le,fen:I.fen,turn:I.turn,gameOver:I.gameOver,history:I.history,canUndo:I.canUndo||!1})),I.undoneBy&&(I.undoneBy===o?w("You undid your move"):w(`${I.undoneBy} player undid their move`),setTimeout(()=>w(""),3e3))}),x.on("gameOver",({result:I})=>{alert(`Game Over! Result: ${I}`)}),x.on("invalidMove",({error:I})=>{alert(`Invalid move: ${I}`)}),x.on("playersUpdated",({players:I,playersCount:X})=>{u(le=>({...le,players:I})),console.log(`Players updated. Total players: ${X}`)}),x.on("playerLeft",({playerName:I,playersCount:X})=>{console.log(`${I} left the game. Players: ${X}`)}),x.on("undoError",({error:I})=>{alert(`Undo error: ${I}`)}),()=>{x.off("connect"),x.off("disconnect"),x.off("gameCreated"),x.off("playerAssigned"),x.off("gameState"),x.off("moveMade"),x.off("moveUndone"),x.off("gameOver"),x.off("invalidMove"),x.off("playersUpdated"),x.off("playerLeft"),x.off("undoError")}},[x]);const P=I=>{I.preventDefault(),x&&i&&x.emit("createGame",i,{preferredColor:E||null,gameType:"casual"})},L=I=>{I.preventDefault(),x&&n&&i&&(x.emit("joinGame",n,i),y(!0))},H=(I,X)=>{if(!x||!c||o==="spectator")return!1;const le=t.turn()==="w"?"white":"black";if(o!==le)return!1;try{if(t.move({from:I,to:X,promotion:"q"}))return x.emit("makeMove",n,{from:I,to:X,promotion:"q"}),!0}catch(ge){console.log("Invalid move:",ge)}return!1},A=()=>{!x||!c||o==="spectator"||!a.canUndo||x.emit("undoMove",n)},J=I=>{g(I),localStorage.setItem("chessboardTheme",I)},re=()=>{e(new nn),r(""),s(""),l(null),y(!1),u({fen:new nn().fen(),turn:"w",gameOver:!1,players:[],history:[],canUndo:!1})};return c?d.jsx("div",{className:"app",children:d.jsxs("div",{className:"game-container",children:[d.jsxs("div",{className:"game-header",children:[d.jsx("h1",{children:"SocketChess"}),d.jsxs("div",{className:"player-info",children:[d.jsxs("span",{children:["Playing as: ",d.jsx("strong",{children:o})]}),d.jsxs("span",{children:["Player: ",d.jsx("strong",{children:i})]}),d.jsx("button",{onClick:re,className:"leave-button",children:"Leave Game"})]})]}),v&&d.jsx("div",{className:"notification",children:v}),d.jsxs("div",{className:"game-content",children:[d.jsx("div",{className:"chess-board-container",children:d.jsx(Iy,{position:a.fen,onPieceDrop:H,boardOrientation:o==="black"?"black":"white",allowAllMoves:!1,playerColor:o,gameState:a,boardTheme:T})}),d.jsxs("div",{className:"game-sidebar",children:[d.jsx(jy,{gameState:a,playerColor:o,gameId:n,onUndo:A}),d.jsx(by,{currentTheme:T,onThemeChange:J})]})]})]})}):d.jsx("div",{className:"app",children:d.jsxs("div",{className:"join-game-container",children:[d.jsx("h1",{children:"Chess Game"}),d.jsxs("div",{className:"connection-status",children:["Status: ",f?" Connected":" Disconnected"]}),d.jsxs("div",{className:"game-mode-selector",children:[d.jsx("button",{className:`mode-button ${h==="create"?"active":""}`,onClick:()=>m("create"),children:"Create Game"}),d.jsx("button",{className:`mode-button ${h==="join"?"active":""}`,onClick:()=>m("join"),children:"Join Game"})]}),h==="create"?d.jsxs("form",{onSubmit:P,className:"join-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"playerName",children:"Your Name:"}),d.jsx("input",{type:"text",id:"playerName",value:i,onChange:I=>s(I.target.value),placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"preferredColor",children:"Preferred Color:"}),d.jsxs("select",{id:"preferredColor",value:E,onChange:I=>R(I.target.value),children:[d.jsx("option",{value:"",children:"No preference"}),d.jsx("option",{value:"white",children:"White"}),d.jsx("option",{value:"black",children:"Black"})]})]}),d.jsx("button",{type:"submit",disabled:!f,children:"Create Game"})]}):d.jsxs("form",{onSubmit:L,className:"join-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"playerName",children:"Your Name:"}),d.jsx("input",{type:"text",id:"playerName",value:i,onChange:I=>s(I.target.value),placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"gameId",children:"Game ID:"}),d.jsx("input",{type:"text",id:"gameId",value:n,onChange:I=>r(I.target.value),placeholder:"Enter game ID (e.g., QuickKnight123)",required:!0})]}),d.jsx("button",{type:"submit",disabled:!f,children:"Join Game"})]})]})})}Tl.createRoot(document.getElementById("root")).render(d.jsx(ig.StrictMode,{children:d.jsx(Pw,{})}));
